(this["webpackJsonp@atbash/frontend"]=this["webpackJsonp@atbash/frontend"]||[]).push([[3],{798:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(9),r=a(0),c=a.n(r),i=a(783),s=a(729),o=a(826),l=a(33),b=a(3),u=function(e){var t,a=e.title,r=e.children,u=e.zoom,j=e.className,d=c.a.isValidElement(a)?{title:a}:Object(b.jsx)(i.a,{variant:"h4",sx:{textTransform:"uppercase"},children:a}),O=Object(b.jsxs)(s.a,{className:j,sx:(t={padding:l.a.spacing(4)},Object(n.a)(t,l.a.breakpoints.up("xs"),{margin:".5rem"}),Object(n.a)(t,l.a.breakpoints.down("xs"),{margin:"1rem"}),Object(n.a)(t,"@supports (-webkit-backdrop-filter: none) or (backdrop-filter: none)",{background:l.a.palette.cardBackground.main,backdropFilter:"blur(100px)"}),Object(n.a)(t,"@supports not ((-webkit-backdrop-filter: none) or (backdrop-filter: none))",{background:l.a.palette.cardBackground.dark,backdropFilter:"blur(100px)"}),t),children:[Object(b.jsx)(s.a,{sx:{color:l.a.palette.primary.main},children:Object(b.jsx)(b.Fragment,{children:d})}),r]});return u?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(o.a,{in:!1,children:Object(b.jsx)(b.Fragment,{children:O})})}):O}},799:function(e,t,a){"use strict";a.r(t),a.d(t,"MenuMetric",(function(){return b}));var n=a(0),r=a(771),c=a(729),i=a(783),s=a(834),o=a(33),l=a(3),b=function(e){var t=e.metricKey,a=e.value,n=Object(r.a)(o.a.breakpoints.down("sm"));return Object(l.jsxs)(c.a,{sx:{display:"flex",flexDirection:"column",alignItems:n?"left":"center"},children:[Object(l.jsx)(i.a,{variant:"body2",sx:{color:o.a.palette.primary.dark},children:t}),Object(l.jsx)(i.a,{variant:"h5",sx:{overflow:"hidden",wordBreak:"break-all",overflowX:"hidden",color:o.a.palette.primary.main},children:void 0===a?Object(l.jsx)(s.a,{sx:{width:"100%"}}):Object(l.jsx)(l.Fragment,{children:a})})]})};t.default=function(e){var t=e.metricKey,a=e.value;return Object(n.useMemo)((function(){return Object(l.jsx)(b,{metricKey:t,value:a})}),[t,a])}},800:function(e,t,a){"use strict";var n=a(9),r=a(0),c=a(729),i=a(783),s=a(834),o=a(40),l=a(788),b=a(33),u=a(3),j=function(e){var t,a=e.metricKey,r=e.value,j=Object(l.a)().t;return Object(u.jsxs)(c.a,{sx:(t={display:"inline-flex",width:"100%",justifyContent:"space-between",p:{xs:.5,sm:.75},color:b.a.palette.primary.light},Object(n.a)(t,b.a.breakpoints.up("xs"),{fontSize:".8rem"}),Object(n.a)(t,b.a.breakpoints.up("sm"),{fontSize:"1.3rem"}),t),children:[Object(u.jsx)(i.a,{variant:"body1",sx:{width:"60%"},children:Object(u.jsx)(u.Fragment,{children:j(a)})}),Object(u.jsx)(i.a,{variant:"body1",sx:{width:"40%",textAlign:"right"},children:Object(o.isNil)(r)?Object(u.jsx)(s.a,{sx:{width:"100%"}}):Object(u.jsx)(u.Fragment,{children:r})})]},a)};t.a=function(e){var t=e.metricKey,a=e.value;return Object(r.useMemo)((function(){return Object(u.jsx)(j,{metricKey:t,value:a})}),[t,a])}},801:function(e,t,a){"use strict";a.d(t,"b",(function(){return j})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return O})),a.d(t,"e",(function(){return p})),a.d(t,"a",(function(){return x})),a.d(t,"f",(function(){return m}));var n=a(39),r=a(41),c=a(27),i=a.n(c),s=a(71),o=a(140),l=a(280),b=a(279),u=Object(r.a)([function(e){var t;return(null===(t=e.main.staking.epoch)||void 0===t?void 0:t.distribute)||null},function(e){return e.main.metrics.rawCircSupply}],(function(e,t){return t&&e?new i.a(e.toString()).div(new i.a(t.toString())):null})),j=Object(r.a)([u],(function(e){return(e||new i.a(0)).mul(100)})),d=Object(r.a)([u],(function(e){return null===e?null:{fiveDayRate:Number(Math.pow(1+e.toNumber(),15).toFixed(5))-1,stakingAPY:Number(i.a.pow(e.add(1),1095).toFixed(5))-1,stakingReward:e.toNumber(),stakingRebase:e}})),O=Object(r.a)([o.b,l.c],(function(e,t){return e&&t?new i.a(e.toString()).mul(new i.a(t.toString()).div(Math.pow(10,9))):null})),p=function(e){var t=e.markets.markets.dai,a=e.account.balances,r=i.a.sum.apply(i.a,Object(n.a)(Object.values(a).map((function(e){return new i.a(e.toString()).div(Math.pow(10,9)).mul(null!==t&&void 0!==t?t:0).toNumber()}))));return Object(s.d)(r,2)},x=function(e){var t=e.main.metrics,a=t.totalSupply,n=t.reserves;return a&&n?Object(s.c)(a*n.div(Math.pow(10,9)).toNumber(),2):null},m=Object(r.a)([b.b,l.c],(function(e,t){if(!t||!e)return null;var a=new i.a(e.toString()).mul(t).div(Math.pow(10,18));return Object(s.d)(a,2)}))},802:function(e,t,a){"use strict";var n=a(9),r=a(19),c=a(0),i=a(835),s=a(832),o=a(837),l=a(729),b=a(783),u=a(778),j=a(730),d=a(788),O=a(115),p=a(33),x=a(74),m=a(278),h=a(3);t.a=function(e){var t=Object(d.a)().t,a=Object(O.d)(),f=e.initialValue,v=e.maxValue,g=e.transactionType,y=e.approvesNeeded,k=e.onApprove,A=e.onAction,S=e.approveLabel,w=e.actionLabel,P=e.isLoading,B=Object(c.useState)(""),N=Object(r.a)(B,2),C=N[0],H=N[1],R=Object(O.e)(m.c),T=Object(c.useCallback)((function(e){if(e.preventDefault(),!(R.length>0))return y?k(g):"0"===C?a(Object(x.a)({severity:"warning",description:"Please provide an amount"})):A(C)}),[k,A,C,g]);return Object(h.jsxs)(i.a,{container:!0,children:[Object(h.jsx)(i.a,{item:!0,xs:10,children:Object(h.jsx)(s.a,{sx:{color:p.a.palette.primary.main,border:"1px solid",borderColor:p.a.palette.primary.main,borderRadius:0,outlineColor:p.a.palette.primary.main,borderRight:"none",width:"100%"},type:"number",placeholder:f.toString(),value:C,onChange:function(e){e.preventDefault(),H(e.target.value)},inputProps:{inputMode:"numeric",pattern:"^[0-9]*[.,]?[0-9]*$"},endAdornment:Object(h.jsx)(o.a,{position:"end",children:Object(h.jsx)(l.a,{sx:{color:p.a.palette.primary.main,textTransform:"uppercase",cursor:"pointer"},onClick:function(){H(v.toString())},children:Object(h.jsx)(b.a,{children:Object(h.jsx)(h.Fragment,{children:t("Max")})})})})})}),Object(h.jsx)(i.a,{item:!0,xs:2,p:0,children:Object(h.jsxs)(u.a,{sx:{padding:0,color:p.a.palette.primary.main},disabled:P,onClick:T,children:[P&&Object(h.jsx)(j.a,{color:"secondary"}),!P&&Object(h.jsxs)(b.a,{variant:"body1",sx:Object(n.a)({},p.a.breakpoints.down("sm"),{maxWidth:"9ch",padding:0,overflow:"hidden",fontSize:".5rem",whiteSpace:"nowrap"}),children:[" ",y?S:w]})]})})]})}},806:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(19),r=a(14),c=a(9),i=a(173),s=a(0),o=a(729),l=a(830),b=a(836),u=a(33),j=a(3),d=["children","value","index"],O=function(e){var t,a=e.children,n=e.value,s=e.index,l=Object(i.a)(e,d);return Object(j.jsx)("div",Object(r.a)(Object(r.a)({role:"tabpanel",hidden:n!==s,id:"bmultitab-tabpanel-".concat(s),"aria-labelledby":"bmultitab-tab-".concat(s)},l),{},{children:Object(j.jsx)(o.a,{sx:(t={},Object(c.a)(t,u.a.breakpoints.up("md"),{padding:3}),Object(c.a)(t,u.a.breakpoints.down("md"),{padding:0}),t),children:a})}))},p=function(e){var t=e.tabs,a=Object(s.useState)(0),c=Object(n.a)(a,2),i=c[0],u=c[1],d=t.flatMap((function(e){return e.label}));return Object(j.jsxs)(o.a,{sx:{borderBottom:1,borderColor:"divider"},children:[Object(j.jsx)(l.a,{centered:!0,value:i,onChange:function(e,t){e.preventDefault(),u(t||0)},"aria-label":"basic tabs example",children:d.map((function(e,t){return Object(j.jsx)(b.a,Object(r.a)({value:t,label:Object(j.jsx)(j.Fragment,{children:e})},function(e){return{id:"bmultitab-tab-".concat(e),"aria-controls":"bmultitab-tabpanel-".concat(e),sx:{color:"white"}}}(0)),t)}))}),t.map((function(e,t){var a=e.component;return Object(j.jsx)(O,{value:i,index:t,children:a},t)}))]})}},809:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(0),c=a(729),i=a(763),s=a(835),o=a(788),l=a(115),b=a(223),u=a(33),j=a(73),d=a(71),O=a(140),p=a(222),x=a(101),m=a(280),h=a(801),f=a(279),v=(a(816),a(3)),g=Object(r.lazy)((function(){return Promise.resolve().then(a.bind(null,799))}));t.default=function(){var e=Object(o.a)().t,t=Object(l.d)(),a=Object(j.c)().state.networkID,y=Object(l.e)(m.d),k=Object(l.e)(O.c),A=Object(l.e)(h.f),S=Object(l.e)(h.a),w=Object(l.e)(h.c),P=Object(l.e)(h.d),B=Object(l.e)(f.a),N=Object(l.e)(p.n),C=Object(l.e)(O.a),H=Object(l.e)(p.p),R=Object(l.e)(p.m),T=R.rfv,F=R.rfvBASH,D=R.runway;if(Object(r.useEffect)((function(){!C&&a&&t(Object(x.g)({networkID:a}))}),[a,C]),Object(r.useEffect)((function(){H&&a&&t(Object(x.e)({networkID:a}))}),[a,H]),C)return Object(v.jsx)(b.a,{});var E=w?[{name:"APY",value:w?Object(d.a)(w.stakingAPY.toString()):null},{name:"CurrentIndex",value:B},{name:"wsBASHPrice",value:A}]:[],V=[{name:"BashPrice",value:k},{name:"MarketCap",value:S},{name:"TVL",value:P?Object(d.d)(P,2):0},{name:"TreasuryBalance",value:N}].concat(E,[{name:"RiskFreeValue",value:T},{name:"RiskFreeValuewsBASH",value:F},{name:"Runway",value:e("common:day",{count:Number(D)})}]);return Object(v.jsx)(c.a,{children:Object(v.jsx)(s.a,{container:!0,spacing:6,sx:{p:2},justifyContent:"space-around",children:V.map((function(t){return Object(r.createElement)(i.a,Object(n.a)(Object(n.a)({in:!y},y?{}:{timeout:1e3}),{},{key:"dashboard-item-".concat(t.name)}),Object(v.jsx)(s.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(v.jsx)(c.a,{className:"Dashboard__box__item",sx:{backgroundColor:u.a.palette.cardBackground.main,backdropFilter:"blur(100px)",borderRadius:".5rem",color:u.a.palette.primary.main,px:u.a.spacing(2),py:u.a.spacing(4),textAlign:"center",justifyContent:"center",alignItems:"center",display:"flex",flex:"1 1 auto",overflow:"auto",flexDirection:"column",height:"100%"},children:Object(v.jsx)(r.Suspense,{fallback:Object(v.jsx)(b.a,{}),children:Object(v.jsx)(g,{metricKey:e(t.name),value:t.value})})})}))}))})})}},812:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(729),c=a(788),i=a(115),s=a(798),o=a(806),l=a(223),b=a(33),u=a(94),j=a(160),d=a(226),O=a(140),p=a(801),x=a(835),m=a(799),h=a(71),f=a(279),v=a(3);var g,y,k=function(){var e=Object(i.e)(p.c),t=Object(i.e)(p.d),a=Object(i.e)(O.c),n=Object(i.e)(f.a),r=Object(c.a)().t,s=[{key:"APY",value:null!==e&&void 0!==e&&e.stakingAPY?"".concat(Object(h.a)(e.stakingAPY.toString())):null},{key:"TVL",value:t?Object(h.d)(t):null},{key:"CurrentIndex",value:n},{key:"BASHPrice",value:a}].map((function(e){var t=e.key,a=e.value;return Object(v.jsx)(x.a,{item:!0,xs:6,sm:4,md:4,lg:3,mt:2,children:Object(v.jsx)(m.default,{metricKey:r(t),value:a})},t)}));return Object(v.jsx)(x.a,{container:!0,spacing:2,children:s})},A=a(19),S=a(834),w=a(783),P=a(374),B=function(){var e=Object(c.a)().t,t=Object(i.e)(O.i),a=Object(i.e)(O.g).timestamp,s=Object(n.useState)(null),o=Object(A.a)(s,2),l=o[0],u=o[1];return Object(n.useEffect)((function(){a&&t&&a<t&&u(Object(P.a)(a,t,e))}),[a,t]),a&&t?Object(v.jsx)(r.a,{sx:{color:b.a.palette.primary.main,textTransform:"uppercase",letterSpacing:2},children:Object(v.jsx)(w.a,{children:Object(v.jsx)(v.Fragment,{children:l?e("TimeToNextRebase",{time:l}):e("Rebasing")})})}):Object(v.jsx)(S.a,{})},N=a(224),C=a(1),H=a(10),R=a(34),T=a(118),F=a(89),D=a(202),E=a(74),V=a(111),I=a(72),L=Object(R.b)("staking/staking",function(){var e=Object(H.a)(Object(C.a)().mark((function e(t,a){var n,r,c,i,s,o,l,b,u,j,O,p;return Object(C.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.action,r=t.amount,c=t.signer,i=t.signerAddress,s=a.dispatch,o=a.getState,l=o(),b=l.main.contracts,u=b.STAKING_HELPER_CONTRACT,j=b.STAKING_CONTRACT,e.next=5,c.getGasPrice();case 5:if(O=e.sent,j&&u){e.next=8;break}throw new Error("Unable to get contracts");case 8:if(p=void 0,e.prev=9,"STAKE"!==n){e.next=16;break}return e.next=13,u.stake(T.utils.parseUnits(r.toString(),"gwei"),i,{gasPrice:O});case 13:e.t0=e.sent,e.next=19;break;case 16:return e.next=18,j.unstake(T.utils.parseUnits(r.toString(),"gwei"),!0,{gasPrice:O});case 18:e.t0=e.sent;case 19:return p=e.t0,s(Object(V.a)({type:I.a.STAKE_PENDING,hash:p.hash})),e.next=23,p.wait();case 23:s(Object(E.a)({severity:"success",description:F.a.tx_successfully_send})),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(9),Object(D.a)(e.t1,s);case 29:return e.prev=29,s(Object(V.b)(I.a.STAKE_PENDING)),e.finish(29);case 32:s(Object(E.a)({severity:"info",description:F.a.your_balance_update_soon})),s(Object(d.a)(i)),s(Object(E.a)({severity:"info",description:F.a.your_balance_updated}));case 35:case"end":return e.stop()}}),e,null,[[9,26,29,32]])})));return function(t,a){return e.apply(this,arguments)}}()),W=Object(R.b)("staking/approve",function(){var e=Object(H.a)(Object(C.a)().mark((function e(t,a){var n,r,c,i,s,o,l,b,u,j,O,p;return Object(C.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.signer,r=t.signerAddress,c=t.transactionType,i=a.getState,s=a.dispatch,o=i(),l=o.main.contracts,b=l.BASH_CONTRACT,u=l.SBASH_CONTRACT,b&&u){e.next=5;break}throw new Error("Contract not set");case 5:return e.next=7,n.getGasPrice();case 7:return j=e.sent,e.prev=8,O="BASH_APPROVAL"===c?b:u,e.next=12,O.approve(r,T.constants.MaxUint256,{gasPrice:j});case 12:return p=e.sent,s(Object(V.a)({type:c,hash:p.hash})),e.next=16,p.wait();case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),Object(D.a)(e.t0,s);case 21:return e.prev=21,s(Object(V.b)(c)),e.finish(21);case 24:s(Object(d.a)(r));case 25:case"end":return e.stop()}}),e,null,[[8,18,21,24]])})));return function(t,a){return e.apply(this,arguments)}}());!function(e){e.BASH="BASH",e.SBASH="SBASH"}(g||(g={})),function(e){e.STAKE="STAKE",e.UNSTAKE="UNSTAKE"}(y||(y={}));var Y=a(278),_=a(802),M=function(){var e=Object(i.d)(),t=Object(i.e)(j.b),a=Object(i.e)(Y.d),r=Object(i.e)(j.f).BASHAllowanceNeeded,c=Object(u.c)(),s=c.signer,o=c.signerAddress,l=Object(n.useCallback)((function(t){return e(L({action:y.STAKE,amount:t,signer:s,signerAddress:o}))}),[]),b=Object(n.useCallback)((function(t){e(W({signer:s,signerAddress:o,transactionType:t}))}),[s]);return Object(v.jsx)(_.a,{initialValue:0,maxValue:t.toNumber(),transactionType:I.a.BASH_APPROVAL,approvesNeeded:r,onApprove:b,onAction:l,approveLabel:Object(N.b)("stake:ApproveStaking"),actionLabel:Object(N.b)("stake:Stake"),isLoading:a})},K=a(39),z=a(800),U=function(){var e=Object(c.a)().t,t=Object(i.e)(j.d),a=t.BASH,n=t.SBASH,s=Object(i.e)(O.f),o=[{key:"YourBalance",value:a},{key:"stake:YourStakedBalance",value:n},{key:"stake:NextRewardAmount",value:s.nextRewardValue},{key:"stake:NextRewardYield",value:s.stakingRebasePercentage},{key:"stake:ROIFiveDayRate",value:s.fiveDayRate}],l=[{key:"stake:EffectiveNextRewardAmount",value:s.effectiveNextRewardValue}],u=[].concat(o,Object(K.a)(s.optionalMetrics?l:[])).map((function(e,t){var a=e.key,n=e.value;return Object(v.jsx)(z.a,{metricKey:a,value:n},"metric-".concat(t))}));return Object(v.jsxs)(r.a,{children:[Object(v.jsx)(w.a,{variant:"h4",sx:{color:b.a.palette.primary.light},children:Object(v.jsxs)(v.Fragment,{children:[e("stake:StakingMetrics")," "]})}),u]})},G=function(){var e=Object(i.d)(),t=Object(i.e)(j.e),a=Object(i.e)(Y.d),r=Object(i.e)(j.f).SBASHAllowanceNeeded,c=Object(u.c)(),s=c.signer,o=c.signerAddress,l=Object(n.useCallback)((function(t){e(W({signer:s,signerAddress:o,transactionType:t}))}),[s]),b=Object(n.useCallback)((function(t){return e(L({action:y.UNSTAKE,amount:t,signer:s,signerAddress:o}))}),[]);return Object(v.jsx)(_.a,{initialValue:t.toNumber(),maxValue:t.toNumber(),transactionType:I.a.SBASH_APPROVAL,approvesNeeded:r,onApprove:l,onAction:b,approveLabel:Object(N.b)("stake:ApproveUnstaking"),actionLabel:Object(N.b)("stake:Unstake"),isLoading:a})},J=a(771),$=a(280),X=function(){var e=Object(c.a)().t,t=Object(J.a)(b.a.breakpoints.down("sm")),a=Object(i.e)(p.e),n=Object(i.e)(f.c),s=Object(i.e)(j.d).WSBASH,o=[{key:"stake:ValueOfYourBASH",value:Object(i.e)($.b)},{key:"stake:ValueOfYourStakedBASH",value:s},{key:"stake:ValueOfYourNextRewardAmount",value:n.wrappedTokenValue},{key:"stake:ValueOfYourEffectiveNextRewardAmount",value:n.effectiveNextRewardValue}].map((function(e){var t=e.key,a=e.value;return Object(v.jsx)(z.a,{metricKey:t,value:a},t)}));return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(r.a,{sx:{display:"inline-flex",width:"100%",justifyContent:"space-between",alignItems:"center",color:b.a.palette.primary.light},children:[Object(v.jsx)(w.a,{variant:t?"h5":"h4",children:Object(v.jsx)(v.Fragment,{children:e("YourBalance")})}),Object(v.jsx)(w.a,{variant:"h4",children:Object(v.jsxs)(v.Fragment,{children:[" ",a]})})]}),o]})},q=(a(815),function(){var e=Object(c.a)().t,t=Object(i.d)(),a=Object(u.c)().signerAddress,l=Object(i.e)(O.h);Object(n.useEffect)((function(){a&&l&&t(Object(d.a)(a))}),[a,l]);var j=[{label:e("stake:Stake"),component:Object(v.jsx)(M,{})},{label:e("stake:Unstake"),component:Object(v.jsx)(G,{})}];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(s.a,{zoom:!0,title:e("stake:StakeTitle"),children:[Object(v.jsx)(r.a,{sx:{color:b.a.palette.primary.main},children:Object(v.jsx)(B,{})}),Object(v.jsx)(r.a,{sx:{marginTop:b.a.spacing(4)},children:Object(v.jsx)(k,{})}),Object(v.jsx)(r.a,{sx:{marginTop:b.a.spacing(4)},children:Object(v.jsx)(o.a,{tabs:j})}),Object(v.jsx)(r.a,{sx:{marginTop:b.a.spacing(4)},children:Object(v.jsx)(U,{})})]}),Object(v.jsx)(s.a,{zoom:!0,title:"",className:"Staking__userBalance",children:Object(v.jsx)(X,{})})]})});t.default=function(){var e=Object(i.e)(j.a),t=Object(i.e)(p.c);return e||!t?Object(v.jsx)(l.a,{}):Object(v.jsx)(q,{})}},814:function(e,t,a){},815:function(e,t,a){},816:function(e,t,a){},829:function(e,t,a){"use strict";a.r(t);var n=a(813),r=(a(814),a(0)),c=a(115),i=a(49),s=a(223),o=a(73),l=a(94),b=a(226),u=a(140),j=a(124),d=a(222),O=a(101),p=a(266),x=(a(812),a(783)),m=a(788),h=a(798),f=a(3);var v=function(){var e=Object(m.a)().t;return Object(f.jsx)(h.a,{title:e("bond:Redeem"),zoom:!0,children:Object(f.jsx)(x.a,{children:Object(f.jsxs)(f.Fragment,{children:[" ",e("ComingSoon")]})})})},g=a(33),y=a(160),k=a(280),A=a(801),S=a(19),w=a(835),P=a(14),B=a(173),N=a(9),C=a(15),H=a(831),R=a(771),T=a(729),F=a(138),D=["currentDay"],E=Object(C.a)(H.a)({color:F.a[600]}),V=function(e){var t=e.currentDay,a=e.onChange,n=e.minDays,r=e.maxDays,c=Object(m.a)().t,i=Object(R.a)(g.a.breakpoints.down("sm"));return Object(f.jsxs)(T.a,{height:"90%",sx:Object(N.a)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},g.a.breakpoints.up("xs"),{width:"100%",marginTop:"1rem"}),pb:g.a.spacing(2),children:[Object(f.jsx)(x.a,{variant:"body1",color:g.a.palette.primary.light,mb:g.a.spacing(2),sx:Object(N.a)({},g.a.breakpoints.up("xs"),{marginBottom:0}),children:c("common:day_other",{count:t})}),Object(f.jsx)(E,{orientation:i?"horizontal":"vertical",defaultValue:20,value:t,min:n,max:r,size:"medium",valueLabelDisplay:"auto",onChange:function(e,t){e.preventDefault(),a(Array.isArray(t)?t[0]:t)}})]})},I=function(e){var t=e.currentDay,a=Object(B.a)(e,D);return Object(r.useMemo)((function(){return Object(f.jsx)(V,Object(P.a)({currentDay:t},a))}),[t])},L=a(832),W=a(837),Y=function(e){var t=e.name,a=e.defaultValue,n=e.maxValue,c=e.onChange,i=e.endAdornmentLabel,s=e.placeholder,o=e.extraSxProps,l=Object(m.a)().t,b=Object(r.useState)(a),u=Object(S.a)(b,2),j=u[0],d=u[1];return Object(f.jsx)(L.a,{sx:Object(P.a)({color:g.a.palette.primary.main,border:"1px solid",borderColor:g.a.palette.primary.main,borderRadius:0,outlineColor:g.a.palette.primary.main,width:"100%"},null!==o&&void 0!==o?o:{}),name:t,type:"number",placeholder:s,value:j,onChange:function(e){e.preventDefault();var a=e.target.value;d(a),c(Object(N.a)({},t,a))},inputProps:{inputMode:"numeric",pattern:"^[0-9]*[.,]?[0-9]*$"},endAdornment:Object(f.jsx)(W.a,{position:"end",children:Object(f.jsx)(T.a,{sx:{color:g.a.palette.primary.main,textTransform:"uppercase",cursor:"pointer"},onClick:function(e){e.preventDefault(),d(null!==n&&void 0!==n?n:a)},children:Object(f.jsx)(x.a,{children:null!==i&&void 0!==i?i:l("Max")})})})})},_=function(e){var t=e.onConfigurationChange,a=e.initialData,n=Object(m.a)().t,r=function(e){t(Object(P.a)(Object(P.a)({},a),e))};return Object(f.jsxs)(T.a,{color:g.a.palette.primary.light,children:[Object(f.jsxs)(T.a,{color:g.a.palette.primary.light,mt:g.a.spacing(2),children:[Object(f.jsx)(x.a,{variant:"body2",align:"center",children:n("globe:StakedSBAmount")}),Object(f.jsx)(Y,{name:"stakedSBAmount",onChange:r,defaultValue:a.stakedSBAmount,placeholder:n("globe:EnterStakedBASHAmount")})]}),Object(f.jsxs)(T.a,{mt:g.a.spacing(2),children:[Object(f.jsx)(x.a,{variant:"body2",align:"center",children:n("globe:RewardYieldPercent")}),Object(f.jsx)(Y,{name:"rewardYieldPercent",onChange:r,defaultValue:a.rewardYieldPercent,endAdornmentLabel:n("globe:Current"),placeholder:n("globe:EnterRewardYieldPercent")})]}),Object(f.jsxs)(T.a,{mt:g.a.spacing(2),children:[Object(f.jsx)(x.a,{variant:"body2",align:"center",children:n("globe:BASHPriceAtPurchase")}),Object(f.jsx)(Y,{name:"BASHPriceAtPurchase",onChange:r,defaultValue:a.BASHPriceAtPurchase,endAdornmentLabel:n("globe:Current"),placeholder:n("globe:EnterBuyPrice")})]}),Object(f.jsxs)(T.a,{mt:g.a.spacing(2),children:[Object(f.jsx)(x.a,{variant:"body2",align:"center",children:n("globe:FutureBASHMarketPrice")}),Object(f.jsx)(Y,{name:"futureBASHMarketPrice",onChange:r,defaultValue:a.futureBASHMarketPrice,endAdornmentLabel:n("globe:Current"),placeholder:n("globe:EnterFuturePrice")})]})]})},M=a(39),K=a(71),z=function(e){var t=e.data,a=e.duration,n=e.initialPrice,r=Object(m.a)().t,c=t.stakedSBAmount,i=t.BASHPriceAtPurchase,s=t.rewardYieldPercent,o=t.futureBASHMarketPrice,l=function(e,t){return Math.pow(1+Number(e)/100,3*t)-1}(s,a),b=function(e,t){return Number(e)*t}(c,l),u=function(e,t,a){return(Number(e)+t)*Number(a)}(c,b,o),j=function(e){return Math.round(e/222004)}(u),d=[{key:"globe:YourInitialInvestment",value:Object(K.c)(Number(c)*Number(i),2)},{key:"globe:CurrentWealth",value:Object(K.c)(n.toNumber()*Number(c),2)},{key:"globe:BASHRewardsEstimation",value:Intl.NumberFormat("en",{notation:"compact",maximumFractionDigits:2}).format(b)},{key:"globe:PotentialReturn",value:Object(K.c)(u)}].map((function(e,t){var a=e.key,n=e.value;return Object(f.jsxs)(T.a,{sx:{justifyContent:"space-between",color:"white",display:"inline-flex",width:"100%",mt:g.a.spacing(2)},children:[Object(f.jsx)(x.a,{variant:"body1",sx:{fontWeight:"bold"},children:r(a)}),Object(f.jsx)(x.a,{variant:"body1",noWrap:!0,children:n})]},t)})),O=Object(f.jsxs)(T.a,{sx:{justifyContent:"space-between",color:"white",display:"inline-flex",width:"100%",mt:g.a.spacing(2)},children:[Object(f.jsx)(x.a,{variant:"body1",sx:{fontWeight:"bold"},children:r("globe:PotentialNumberLambo")}),Object(f.jsx)(x.a,{variant:"body1",children:j})]},"lambos");return Object(f.jsx)(T.a,{sx:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[].concat(Object(M.a)(d),[O])})},U=function(e){var t=e.BASHPrice,a=e.stakingPercentage,n={BASHPrice:t,SBASHBalance:e.SBASHBalance,stakingPercentage:a},c=Object(r.useState)({stakedSBAmount:n.SBASHBalance.toString(),rewardYieldPercent:n.stakingPercentage.toFixed(2),BASHPriceAtPurchase:n.BASHPrice.toFixed(2),futureBASHMarketPrice:n.BASHPrice.toFixed(2)}),i=Object(S.a)(c,2),s=i[0],o=i[1],l=Object(r.useState)(1),b=Object(S.a)(l,2),u=b[0],j=b[1];return Object(f.jsxs)(w.a,{container:!0,mt:g.a.spacing(4),children:[Object(f.jsx)(w.a,{item:!0,xs:12,sm:5,children:Object(f.jsx)(_,{onConfigurationChange:o,initialData:s})}),Object(f.jsx)(w.a,{item:!0,xs:12,sm:2,sx:{display:"flex",justifyContent:"center"},children:Object(f.jsx)(I,{currentDay:u,onChange:j,minDays:1,maxDays:365})}),Object(f.jsx)(w.a,{item:!0,xs:12,sm:5,children:Object(f.jsx)(z,{data:s,initialPrice:t,duration:u})})]})},G=a(224),J=a(799),$=function(e){var t=e.BASHPrice,a=e.stakingPercentage,n=e.SBASHBalance,r=[{key:"BASHPrice",value:Object(K.d)(t,2)},{key:"globe:CurrentRewardYield",value:Object(K.d)(a)},{key:"globe:YourStakedBASHBalance",value:"".concat(n.toFixed(2)," SBASH")}].map((function(e){var t=e.key,a=e.value;return Object(f.jsx)(w.a,{item:!0,xs:6,sm:4,md:4,lg:4,mt:2,children:Object(f.jsx)(J.default,{metricKey:Object(G.b)(t),value:a})},t)}));return Object(f.jsx)(w.a,{container:!0,spacing:2,children:r})};var X=function(){var e=Object(m.a)().t,t=Object(c.e)(k.a),a=Object(c.e)(A.b),n=Object(c.e)(y.e);return Object(f.jsxs)(h.a,{title:e("globe:ForecastTitle"),zoom:!0,children:[Object(f.jsx)(x.a,{sx:{color:g.a.palette.primary.light},children:Object(f.jsxs)(f.Fragment,{children:[e("globe:EstimateYourReturns")," "]})}),Object(f.jsx)(x.a,{sx:{color:g.a.palette.primary.light,mt:g.a.spacing(2)},children:Object(f.jsxs)(f.Fragment,{children:[e("globe:ForecastWarning")," "]})}),Object(f.jsx)($,{BASHPrice:t,stakingPercentage:a,SBASHBalance:n}),Object(f.jsx)(U,{BASHPrice:t,stakingPercentage:a,SBASHBalance:n})]})},q=(a(809),function(){var e=Object(m.a)().t,t=Object(c.e)(d.e);return Object(f.jsxs)(T.a,{sx:{justifyContent:"center",alignItems:"center",display:"flex",height:"100%"},children:[0===t.length&&Object(f.jsx)(s.a,{}),t.length>0&&Object(f.jsx)(x.a,{variant:"h1",sx:{textAlign:"center",fontWeight:"600",color:g.a.palette.primary.main},children:Object(f.jsx)(f.Fragment,{children:e("PageNotFound")})})]})}),Q=a(806),Z=a(800),ee=a(279),te=function(){var e=Object(c.e)(y.c),t=e.BASH,a=e.SBASH,n=Object(K.d)(t.add(a),2),r=[{key:Object(G.b)("wrap:ValueOfYourBASH"),value:Object(K.d)(t,2)},{key:Object(G.b)("wrap:ValueOfYourStakedBASH"),value:Object(K.d)(a,2)}].map((function(e,t){var a=e.key,n=e.value;return Object(f.jsx)(Z.a,{metricKey:a,value:n},"metric-".concat(t))}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(T.a,{sx:{display:"inline-flex",width:"100%",justifyContent:"space-between",alignItems:"center",color:g.a.palette.primary.light},children:[Object(f.jsx)(x.a,{variant:"h4",children:Object(f.jsx)(f.Fragment,{children:Object(G.b)("YourBalance")})}),Object(f.jsx)(x.a,{variant:"h4",children:Object(f.jsxs)(f.Fragment,{children:[" ",n]})})]}),r]})},ae=a(74),ne=a(278),re=a(72),ce=a(1),ie=a(10),se=a(34),oe=a(118),le=a(51),be=a(202),ue=a(111),je=Object(se.b)("wrapping/approve",function(){var e=Object(ie.a)(Object(ce.a)().mark((function e(t,a){var n,r,c,i,s,o,l,u,j,d;return Object(ce.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.signer,r=a.getState,c=a.dispatch,i=r(),s=i.main.contracts,o=s.SBASH_CONTRACT,l=s.WSBASH_CONTRACT,o&&l){e.next=5;break}throw new Error("Contract not set");case 5:return e.next=7,n.getGasPrice();case 7:return u=e.sent,e.prev=8,e.next=11,o.approve(l.address,oe.constants.MaxUint256,{gasPrice:u});case 11:return j=e.sent,c(Object(ue.a)({type:re.a.WRAPPING_APPROVAL,hash:j.hash})),e.next=15,j.wait();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),Object(be.a)(e.t0,c);case 20:return e.prev=20,c(Object(ue.b)(re.a.WRAPPING_APPROVAL)),e.finish(20);case 23:return e.next=25,n.getSigner().getAddress();case 25:d=e.sent,c(Object(b.a)(d));case 27:case"end":return e.stop()}}),e,null,[[8,17,20,23]])})));return function(t,a){return e.apply(this,arguments)}}()),de=Object(se.b)("wrapping/wrapping",function(){var e=Object(ie.a)(Object(ce.a)().mark((function e(t,a){var n,r,c,i,s,o,l,u,j,d;return Object(ce.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.signer,r=t.amount,c=t.type,i=a.getState,s=a.dispatch,o=i(),l=o.main.contracts.WSBASH_CONTRACT){e.next=5;break}throw new Error("Unable to get WSBASH_CONTRACT");case 5:return e.next=7,n.getGasPrice();case 7:if(u=e.sent,e.prev=8,c!==re.a.WRAPPING){e.next=15;break}return e.next=12,l.wrap(le.a.utils.parseUnits(r.toString(),"gwei"),{gasPrice:u});case 12:e.t0=e.sent,e.next=18;break;case 15:return e.next=17,l.unwrap(le.a.utils.parseEther(r.toString()),{gasPrice:u});case 17:e.t0=e.sent;case 18:j=e.t0,s(Object(ue.a)({type:c,hash:j.hash})),e.next=25;break;case 22:return e.prev=22,e.t1=e.catch(8),e.abrupt("return",Object(be.a)(e.t1,s));case 25:return e.prev=25,s(Object(ue.b)(c)),e.finish(25);case 28:return e.next=30,n.getSigner().getAddress();case 30:d=e.sent,s(Object(b.a)(d));case 32:case"end":return e.stop()}}),e,null,[[8,22,25,28]])})));return function(t,a){return e.apply(this,arguments)}}()),Oe=a(802),pe=function(){var e=Object(m.a)().t,t=Object(c.d)(),a=Object(c.e)(y.e),n=Object(c.e)(y.f).WSBASHAllowanceNeeded,r=Object(c.e)(ne.e),i=Object(l.c)().signer;return Object(f.jsxs)(T.a,{children:[Object(f.jsx)(Oe.a,{initialValue:0,maxValue:a.toNumber(),transactionType:re.a.WRAPPING,approvesNeeded:n,onApprove:function(){t(je({signer:i}))},onAction:function(a){t(a>0?de({signer:i,amount:a,type:re.a.UNWRAPPING}):Object(ae.a)({severity:"error",description:e("wrap:ProvideAmount")}))},approveLabel:e("wrap:ApproveWrapping"),actionLabel:e("wrap:UnWrap"),isLoading:r}),n&&Object(f.jsx)(f.Fragment,{children:e("wrap:ApproveNote")})]})},xe=function(){var e=Object(m.a)().t,t=Object(c.d)(),a=Object(c.e)(y.e),n=Object(c.e)(y.f).WSBASHAllowanceNeeded,r=Object(c.e)(ne.e),i=Object(l.c)().signer;return Object(f.jsxs)(T.a,{children:[Object(f.jsx)(Oe.a,{initialValue:0,maxValue:a.toNumber(),transactionType:re.a.WRAPPING,approvesNeeded:n,onApprove:function(){t(je({signer:i}))},onAction:function(a){t(a>0?de({signer:i,amount:a,type:re.a.WRAPPING}):Object(ae.a)({severity:"error",description:e("wrap:ProvideAmount")}))},approveLabel:e("wrap:ApproveWrapping"),actionLabel:e("wrap:Wrap"),isLoading:r}),n&&Object(f.jsx)(f.Fragment,{children:e("wrap:ApproveNote")})]})};var me=function(){var e=Object(m.a)().t,t=Object(c.e)(ee.a),a=Object(c.e)(y.d),n=[{key:e("common:YourBalance"),value:a.BASH},{key:e("wrap:YourStakedBalance"),value:a.SBASH}].map((function(e,t){var a=e.key,n=e.value;return Object(f.jsx)(Z.a,{metricKey:a,value:n},"metric-".concat(t))})),r=[{label:e("Wrap:Wrap"),component:Object(f.jsx)(xe,{})},{label:e("Wrap:UnWrap"),component:Object(f.jsx)(pe,{})}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(h.a,{title:e("wrap:WrapTitle"),zoom:!0,children:[Object(f.jsx)(x.a,{sx:{color:g.a.palette.primary.dark},children:Object(f.jsxs)(f.Fragment,{children:[e("wrap:WrapYourBASH")," "]})}),Object(f.jsx)(w.a,{container:!0,pt:g.a.spacing(4),children:Object(f.jsx)(w.a,{xs:2,item:!0,children:Object(f.jsx)(J.default,{metricKey:e("common:CurrentIndex"),value:t})})}),Object(f.jsx)(T.a,{children:Object(f.jsx)(Q.a,{tabs:r})}),Object(f.jsx)(T.a,{mt:g.a.spacing(4),children:n})]}),Object(f.jsx)(h.a,{title:"",zoom:!0,children:Object(f.jsx)(te,{})})]})},he=function(){var e=Object(m.a)("common").t;return Object(f.jsx)(h.a,{title:e("errors.critical"),zoom:!0,children:Object(f.jsx)(x.a,{variant:"body1",children:Object(f.jsx)(f.Fragment,{children:e("errors.network")})})})},fe=Object(r.lazy)((function(){return Promise.resolve().then(a.bind(null,809))})),ve=Object(r.lazy)((function(){return Promise.resolve().then(a.bind(null,812))})),ge=Object(r.lazy)((function(){return a.e(6).then(a.bind(null,838))})),ye=Object(r.lazy)((function(){return Promise.all([a.e(5),a.e(7)]).then(a.bind(null,833))}));t.default=function(){var e=Object(c.d)(),t=Object(r.useContext)(o.a).state,a=t.signer,x=t.signerAddress,m=t.networkID,h=Object(l.b)(),g=Object(l.e)(),y=Object(c.e)((function(e){return e.main}),c.c),k=y.errorEncountered,A=y.contractsLoaded,S=Object(c.e)(u.a),w=Object(c.e)(d.a),P=Object(c.e)(u.d),B=Object(c.e)(d.c),N=Object(c.e)((function(e){return e.bonds.bondMetrics}));return Object(r.useLayoutEffect)((function(){m&&(g?e(Object(j.d)({signer:a})):g||!h||A||e(Object(j.d)({provider:h})))}),[g,h,m]),Object(r.useEffect)((function(){(h||a)&&A&&m&&Object(c.b)((function(){e(Object(j.a)(a||h)),e(Object(j.b)()),e(Object(j.c)()),e(Object(p.a)()),e(Object(O.h)(a||h))}))}),[h,a,A]),Object(r.useEffect)((function(){x&&A&&e(Object(b.a)(x))}),[x,A]),Object(r.useEffect)((function(){x&&A&&m&&A&&!P&&w.length>0&&!B&&Object(c.b)((function(){var t,a=Object(n.a)(w);try{for(a.s();!(t=a.n()).done;){var r=t.value;!1===N[r].loading&&e(Object(O.b)({bondID:r,value:0,networkID:m}))}}catch(c){a.e(c)}finally{a.f()}}))}),[x,A,m,w,A,P]),Object(r.useEffect)((function(){h&&!a&&A&&m&&A&&!P&&w.length>0&&!B&&Object(c.b)((function(){var t,a=Object(n.a)(w);try{for(a.s();!(t=a.n()).done;){var r=t.value;e(Object(O.b)({bondID:r,value:0,networkID:m}))}}catch(c){a.e(c)}finally{a.f()}}))})),k?Object(f.jsx)(he,{}):S?Object(f.jsx)(s.a,{}):Object(f.jsxs)(i.c,{children:[Object(f.jsx)(i.a,{exact:!0,path:"/",children:Object(f.jsx)(r.Suspense,{fallback:Object(f.jsx)(s.a,{}),children:Object(f.jsx)(fe,{})})}),Object(f.jsx)(i.a,{path:"/stake",children:Object(f.jsx)(r.Suspense,{fallback:Object(f.jsx)(s.a,{}),children:Object(f.jsx)(ve,{})})}),Object(f.jsx)(i.a,{path:"/bonds",children:Object(f.jsx)(r.Suspense,{fallback:Object(f.jsx)(s.a,{}),children:Object(f.jsx)(ge,{})})}),Object(f.jsx)(i.a,{path:"/forecast",children:Object(f.jsx)(X,{})}),Object(f.jsx)(i.a,{path:"/wrap",children:Object(f.jsx)(me,{})}),Object(f.jsx)(i.a,{path:"/redeem",children:Object(f.jsx)(v,{})}),w.map((function(e,t){return Object(f.jsx)(i.a,{path:"/bond/".concat(e),children:Object(f.jsx)(r.Suspense,{fallback:Object(f.jsx)(s.a,{}),children:Object(f.jsx)(ye,{open:!0,bondID:e},e)})},t)})),Object(f.jsx)(i.a,{component:q})]})}}}]);
//# sourceMappingURL=3.6a9d524e.chunk.js.map