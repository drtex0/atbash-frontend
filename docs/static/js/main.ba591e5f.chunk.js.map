{"version":3,"sources":["helpers/bond/constants.ts","lib/bonds/bonds.types.ts","assets/tokens/BASH-DAI.png","assets/tokens/DAI.e.png","config/bonds.ts","lib/bonds/bond/bond.ts","lib/bonds/bond/lp-bond.ts","lib/bonds/bond/stable-bond.ts","lib/bonds/bonds.helper.ts","store/modules/bonds/bonds.utils.ts","store/modules/bonds/bonds.thunks.ts","constants/addresses.ts","store/modules/transactions/transactions.slice.ts","store/modules/app/app.thunks.ts","lib/contracts/contracts.ts","config/tokens.ts","store/modules/app/app.selectors.ts","store/modules/app/app.helpers.ts","store/modules/account/account.selectors.ts","helpers/networks/metamask-error-wrap.ts","store/modules/bonds/bonds.selector.ts","components/Loader/index.tsx","store/modules/account/account.thunks.ts","lib/coingecko/get-prices.ts","store/modules/markets/markets.thunks.ts","store/modules/transactions/transactions.selectors.ts","store/modules/stake/stake.selectors.ts","store/modules/markets/markets.selectors.ts","constants/theme.ts","constants/blockchain.ts","helpers/prettify-seconds.ts","i18n.ts","store/modules/app/app.types.ts","abi/index.ts","components/Messages/snackbar.tsx","Root/Error.tsx","assets/tokens/bash.png","assets/tokens/sBASH.png","lib/uniswap/link.ts","components/Header/atbash-menu/index.tsx","components/Header/connect-button/index.tsx","components/Header/index.tsx","store/modules/messages/messages.selectors.ts","components/Messages/index.tsx","assets/icons/bash-compress.svg","hooks/useENS.ts","components/Sidebar/Content/components/ListItemLink.tsx","assets/icons/discord.svg","assets/icons/docs.svg","assets/icons/github.svg","assets/icons/telegram.svg","assets/icons/twitter.svg","components/Sidebar/Content/components/Social.tsx","components/Sidebar/Content/index.tsx","helpers/shorten.ts","components/Sidebar/index.tsx","assets/background.webp","layout/ViewBase/index.tsx","Root/index.tsx","store/modules/account/account.slice.ts","store/utils/action.ts","store/modules/app/app.slice.ts","store/modules/bonds/bonds.slice.ts","store/modules/markets/markets.slice.ts","store/store.ts","index.tsx","helpers/price-units.tsx","store/modules/transactions/transactions.type.ts","contexts/web3/web3.types.ts","lib/contracts/networks.ts","contexts/web3/web3.utils.ts","contexts/web3/subscribers.ts","contexts/web3/web3.context.tsx","contexts/web3/constants.ts","store/modules/messages/messages.slice.ts","constants/messages.ts","contexts/web3/web3.hooks.ts"],"names":["BondType","BondProviderEnum","BONDS","name","displayName","token","ActiveTokensEnum","DAI","iconPath","MimIcon","lpProvider","UNISWAP_V2","type","LP","addresses","Networks","MAINNET","bondAddress","reserveAddress","LOCAL","RINKEBY","isActive","DAIIcon","STABLE_ASSET","Bond","bondOptions","ID","bondContract","reserveContract","this","snakeCase","getBondAddresses","join","Error","undefined","address","CUSTOM","LPBond","LP_URL","signer","Contract","LpBondContract","LpReserveContract","bondCalculatorContract","treasuryAddress","getReserveContract","balanceOf","tokenAmount","valuation","markdown","tokenUSD","Decimal","toHexString","div","mul","toNumber","BASH_ADDRESS","getReserves","isToken","reserve0","reserve1","token1","isBASH","toLowerCase","toTokenDecimal","reserve","Math","pow","StableBond","toString","Promise","resolve","createBond","bondConfig","getBondContractsAddresses","networkID","getLPBondQuote","bond","bondAmountInWei","bondCalculator","maxBondPrice","reserverAddress","maxBondValue","ethers","utils","parseEther","getBondContract","payoutFor","bondQuote","maxValuation","maxBondQuote","maxBondPriceToken","getTokenBondQuote","getLPPurchasedBonds","initialPurchased","daiPrice","purchased","isCustomBond","getTokenPurchaseBonds","initializeBonds","createAsyncThunk","provider","getSigner","getChainId","chainID","getAddresses","BASH_BONDING_CALC_ADDRESS","BondingCalcContract","bondstoOutput","reduce","acc","bondInstance","contracts","initializeContracts","bondName","bondInstances","bondMetrics","treasuryBalance","bondDiscount","vestingTerm","bondPrice","marketPrice","allowance","balance","loading","getBondMetrics","getState","bonds","main","BASH_CONTRACT","metrics","totalSupply","rawCircSupply","circSupply","reserves","epoch","staking","dai","markets","DAO_ADDRESS","PRESALE_REDEMPTION_ADDRESS","isNil","all","Object","values","map","getSbAmount","bondsBashAmounts","balances","entries","bondID","isLP","lpBonds","bashBonds","daoBash","daoBashAmount","Number","formatUnits","redeemableBash","rfvTreasury","bashAmounts","sum","rfv","stakingRebase","distribute","treasuryForRunway","runway","log","deltaMarketPriceRfv","getTreasuryBalance","TREASURY_ADDRESS","keys","val","i","calcBondDetails","value","dispatch","terms","maxPayout","bondPriceInUSD","baseBondPrice","sub","addNotification","severity","description","messages","try_mint_more","toFixed","getBondTerms","approveBonds","getAddress","getGasPrice","gasPrice","approve","constants","MaxUint256","approveTx","addPendingTransaction","hash","TransactionTypeEnum","APPROVE_CONTRACT","wait","tx_successfully_send","metamaskErrorWrap","clearPendingTransaction","calculateUserBondDetails","signerAddress","timestamp","blockchain","getBlockchainData","userAddress","bondInfo","payout","vesting","lastTime","interestDue","bondMaturationBlock","pendingPayoutFor","pendingPayout","pendingPayoutVal","bondVesting","depositBond","amount","slippage","recipientAddress","length","acceptedSlippage","valueInWei","parseUnits","bondPremium","premium","round","maxPremium","estimateGas","deposit","gasEstimation","gasLimit","bondTx","BONDING","your_balance_update_soon","your_balance_updated","loadBondBalancesAndAllowances","redeemBond","isAutoStake","redeem","redeemTx","REDEEMING","REDEEMING_STAKING","DAI_ADDRESS","SBASH_ADDRESS","WSBASH_ADDRESS","STAKING_ADDRESS","STAKING_HELPER_ADDRESS","ZAPIN_ADDRESS","REDEEM_ADDRESS","BASH_DAI_LP_ADDRESS","ATBASH_PRESALE_ADDRESS","ABASH_ADDRESS","BASH_DAI_BOND_ADDRESS","DAI_BOND_ADDRESS","PRESALE_ADDRESS","initialState","Array","pendingTxnsSlice","createSlice","reducers","state","action","push","payload","status","target","find","x","actions","initializeProviderContracts","getNetwork","chainId","contractSignerOrProvider","ContractEnum","STAKING_CONTRACT","StakingContract","STAKING_HELPER_CONTRACT","StakingHelperContract","BASH_DAI_LP_CONTRACT","REDEEM_CONTRACT","RedeemContract","SBASH_CONTRACT","MemoTokenContract","TimeTokenContract","DAI_CONTRACT","WSBASH_CONTRACT","WrappingContract","ZAPING_CONTRACT","ZapinContract","getBlockNumber","currentBlock","getBlock","getCoreMetrics","_","circulatingSupply","reserve2","getStakingMetrics","secondsToNextEpoch","index","endTime","number","ACTIVE_TOKENS","selectFormattedReservePrice","reservePrice","formatUSD","selectReserve","selectBlockchainLoading","selectMetricsLoading","useContractLoaded","every","contract","selectAppLoading","createSelector","some","conditions","condition","useNextRebase","useBlockchainInfos","selectCirculatingSupply","selectUserStakingInfos","pick","account","SBASH","WSBASH","SBASHBalance","WBASHBalance","nextRewardValue","stakingReward","fiveDayRate","stakingAPY","calculateStakingRewards","effectiveNextRewardValue","add","BigNumber","from","wrappedTokenEquivalent","stakingRebasePercentage","optionalMetrics","gt","selectBASHBalance","BASHAmount","BASH","selectSBASHBalance","SBASHAmount","selectBalancesInUSD","BashBalance","SBashBalance","selectWSBASHBalance","WSBASHAmount","selectFormattedStakeBalance","BASHBalance","WSBASHBalance","key","toLocaleUpperCase","selectUserStakingAllowance","stakingAllowance","BASHAllowanceNeeded","eq","SBASHAllowanceNeeded","WSBASHAllowanceNeeded","selectAccountLoading","err","text","something_wrong","reason","code","message","indexOf","i18n","t","data","includes","split","trim","detailledDescription","selectBondInstances","selectAllBonds","createDraftSafeSelector","activeBonds","inactiveBonds","selectBondMintingMetrics","quote","Duration","fromObject","seconds","as","bondSoldOut","selectBondRedeemMetrics","selectBondPrice","formatUSDFromDecimal","selectBondQuoteResult","formatTimer","selectBondMetrics","selectBondItemMetrics","selectMostProfitableBonds","sort","bond1","bond2","selectBondsReady","contractLoaded","selectBondInstance","bondId","selectBondMetricsReady","v","selectAllBondMetrics","selectBondDetailsCalcReady","selectFormattedTreasuryBalance","total","m","filter","selectTreasuryReady","selectFormattedBondCoreMetrics","coreMetrics","selectIndex","currentIndex","indexInGwei","rfvBASH","selectAllActiveBondsIds","Loader","sx","display","alignItems","justifyContent","height","size","loadBalancesAndAllowances","BASHbalance","sBASHBalance","wsBASHBalance","stakeAllowance","unstakeAllowance","wrapAllowance","getTokensPrice","tokens","url","axios","get","timeout","mapValues","getMarketPrices","prices","isEmpty","selectPendingTransactions","transactions","tx","selectStakingPending","BASH_APPROVAL","STAKE_PENDING","selectIsRedeeming","SBASH_APPROVAL","UNSTAKE_PENDING","selectIsRedeemingAndAutoStaking","selectWrappingPending","WRAPPING","selectFormattedIndex","formattedIndex","formatNumber","selectStakingRebaseAmount","selectStakingBalance","selectMarketPrice","stakingRebaseAmount","wrappedTokenValue","selectFormattedBashBalance","selectMarketsLoading","selectComputedMarketPrice","theme","createTheme","palette","mode","primary","grey","A100","secondary","cardBackground","dark","light","components","MuiCssBaseline","styleOverrides","body","darkScrollbar","MuiButton","root","background","color","width","margin","borderRadius","MuiSkeleton","MuiTab","MuiPaper","borderRight","TOKEN_DECIMALS","DEFAULT_NETWORK","networkId","process","REACT_APP_DEFAULT_NETWORK_ID","parseInt","getDefaultNetwork","startDate","endDate","translator","DateTime","fromSeconds","diff","days","hours","minutes","translations","count","resources","en","common","commonEN","bondEN","globe","globeEN","stake","stakeEN","wrap","wrapEN","redeemEN","it","commonIT","use","initReactI18next","init","ns","fallbackLng","lng","debug","interpolation","escapeValue","BSnackBar","forwardRef","ref","useState","snackbarOpen","setSnackbarOpen","hasDetailledDescription","expendIcon","MessageDetails","AccordionDetails","overflow","Typography","variant","paragraph","noWrap","Box","paddingLeft","spacing","paddingRight","Snackbar","open","position","Alert","Accordion","boxShadow","AccordionSummary","borderBottom","expandIcon","id","onClick","ErrorBoundary","props","error","errorInfo","setState","style","whiteSpace","stack","componentStack","children","React","Component","getBuyLink","inputCurrency","outputCurrency","addTokenToWallet","tokenSymbol","tokenAddress","tokenImagePath","window","ethereum","request","method","params","options","symbol","decimals","image","location","origin","AtbashMenu","useTranslation","isUserSigned","useSignerConnected","anchorEl","setAnchorEl","useWeb3Context","Boolean","mr","Button","padding","e","event","currentTarget","Popper","transition","TransitionProps","Fade","href","component","Divider","cursor","BASH_IMG","SBASH_IMG","ConnectMenu","useContext","Web3Context","memoConnect","memoDisconnect","isUserOnGoodNetwork","useGoodNetworkCheck","pendingTransactions","useSelector","handleButtonClick","useCallback","buttonText","setButtonText","useEffect","Header","handleDrawerToggle","isSmallScreen","flexGrow","AppBar","border","zIndex","drawer","Toolbar","IconButton","edge","selectLastNotification","notifications","slice","Messages","enqueueSnackbar","useSnackbar","lastNotification","content","JSON","stringify","useENS","ensName","setENSName","resolveENS","isAddress","lookupAddress","ListItemLink","icon","extra","to","disabled","renderComponent","renderLink","useMemo","itemProps","role","ListItemButton","ListItemIcon","ListItemText","_excluded","_extends","assign","bind","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgDiscord","_ref","svgRef","title","titleId","xmlns","xmlnsXlink","viewBox","stroke","fillRule","fill","fillOpacity","d","_path","ForwardRef","SvgDocs","SvgGithub","SvgTelegram","SvgTwitter","Social","SvgIcon","GitHub","Twitter","Telegram","Discord","DocsIcon","cominSoonMenu","path","NavContent","str","useSignerAddress","signerConnected","menuItems","connected","comingSoonItems","bondItems","discount","flexDirection","minWidth","overflowY","backgroundColor","backdropFilter","Avatar","alt","src","AtbashICON","textAlign","marginTop","ml","marginBottom","List","textDecoration","pt","Link","SideBar","isSidebarOpen","isAppReady","useWeb3ContextInitialized","Drawer","anchor","ModalProps","keepMounted","transitions","create","Content","ViewBase","setisSidebarOpen","useMediaQuery","breakpoints","down","backgroundImage","BackgroundImage","backgroundRepeat","backgroundSize","backgroundPositionX","backgroundPositionY","className","xs","sm","maxHeight","paddingBottom","App","lazy","Root","fallback","RenderWithViewBase","marketSlice","extraReducers","builder","addCase","fulfilled","rejected","isActionRejected","endsWith","contractsLoaded","errorEncountered","MainSlice","pending","addMatcher","startsWith","BondSlices","bondQuoting","treasury","meta","arg","console","store","configureStore","reducer","boundReducer","messagesReducer","mainReducer","marketReducer","newAccountReducer","transactionsReducer","middleware","getDefaultMiddleware","serializableCheck","ReactDOM","render","CssBaseline","ThemeProvider","maxSnack","anchorOrigin","vertical","horizontal","autoHideDuration","document","getElementById","digits","Intl","NumberFormat","currency","maximumFractionDigits","minimumFractionDigits","format","precision","fromExponential","exp","substring","formatAPY","formatted","UNWRAPPING","WRAPPING_APPROVAL","WEB3ActionTypesEnum","getProviderURL","REACT_APP_INFURA_ENDPOINT_URL","isUndefined","initWeb3Modal","Web3Modal","network","cacheProvider","hover","providerOptions","walletconnect","package","WalletConnectProvider","rpc","getProviderURI","rpcUrl","REACT_APP_NETWORK_RPC_URL","subscribeSigner","web3provider","on","providers","Web3Provider","NETWORK_CHANGED","reload","once","CLOSE","createSigner","web3Modal","connect","web3Provider","SET_SIGNER","subscribeProvider","JsonRpcProvider","alert","ready","SET_PROVIDER","resetWeb3Signer","clearCachedProvider","localStorage","setItem","createContext","reject","WEB3Reducer","Web3ContextProvider","useReducer","currentSigner","useLayoutEffect","info","cachedProvider","Provider","messagesSlice","notification","random","createNotification","closeNotification","notificationIdx","please_connect","please_connect_wallet","before_minting","existing_mint","before_stake","before_unstake","before_wrap","before_unwrap","nothing_to_claim","switch_to_avalanche","slippage_too_small","slippage_too_big","isNetworkOk","setIsNetworkOk","isConnected","setIsConnected","isNull","isContextInitialized","setIsContextInitialized","setSigner","useProvider","useSafeSigner"],"mappings":"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","file":"static/js/main.ba591e5f.chunk.js","sourcesContent":["import { Networks } from '../../constants/blockchain';\n\nexport enum BondType {\n    STABLE_ASSET,\n    LP,\n}\n\nexport interface BondAddresses {\n    reserveAddress: string;\n    bondAddress: string;\n}\n\nexport interface NetworkAddresses {\n    [Networks.MAINNET]: BondAddresses;\n    [Networks.RINKEBY]: BondAddresses;\n    [Networks.LOCAL]: BondAddresses;\n}\n","import { Networks } from 'constants/blockchain';\n\nimport { BondOptions } from './bond/bond';\n\nexport enum BondType {\n    STABLE_ASSET,\n    LP,\n    CUSTOM,\n}\n\nexport enum BondProviderEnum {\n    UNISWAP_V2 = 'https://app.uniswap.org/#/add/v2',\n}\n\nexport interface BondAddresses {\n    reserveAddress: string;\n    bondAddress: string;\n}\n\nexport interface NetworkAddresses {\n    [Networks.MAINNET]?: BondAddresses;\n    [Networks.RINKEBY]: BondAddresses;\n    [Networks.LOCAL]: BondAddresses;\n}\n\nexport type BondConfig = Omit<BondOptions, 'networkID'> & {\n    addresses: NetworkAddresses;\n    isActive?: boolean;\n};\n","export default __webpack_public_path__ + \"static/media/BASH-DAI.38270cf4.png\";","export default __webpack_public_path__ + \"static/media/DAI.e.849478a7.png\";","import MimIcon from 'assets/tokens/BASH-DAI.png';\nimport DAIIcon from 'assets/tokens/DAI.e.png';\nimport { Networks } from 'constants/blockchain';\nimport { BondType } from 'helpers/bond/constants';\nimport { BondConfig, BondProviderEnum } from 'lib/bonds/bonds.types';\n\nimport { ActiveTokensEnum } from './tokens';\n\nconst BASH_DAI: BondConfig = {\n    name: 'bash_dai_lp',\n    displayName: 'BASH-DAI LP',\n    token: ActiveTokensEnum.DAI,\n    iconPath: MimIcon,\n    lpProvider: BondProviderEnum.UNISWAP_V2, // sushi rinkeby: \"https://app.sushi.com/add/0x6C538aDf35d1927497090e6971Fc46D8ed813dF6/0xc7AD46e0b8a400Bb3C915120d284AafbA8fc4735\",\n    type: BondType.LP,\n    addresses: {\n        [Networks.MAINNET]: {\n            bondAddress: '0x28Da28E466E7e255Fef956878531fd2218c52267',\n            reserveAddress: '0xA1eB9642CCe9607eb8acD94490C350fe98092cd3',\n        },\n        [Networks.LOCAL]: {\n            bondAddress: '0x7bc06c482DEAd17c0e297aFbC32f6e63d3846650',\n            reserveAddress: '0x908B40ED87FCA620B101B3Cba2B4C640D11eF016',\n        },\n        [Networks.RINKEBY]: {\n            bondAddress: '0xfabd3f8772474250863C7f0c642Fd1c7704B1caa',\n            reserveAddress: '0xC55C0aD007edaEB867e77d2906C682D99B2C3c23', // uniswapv2-\"0xC35F84DBd48fcB0467ac3Ee2C4e37D848B8d3173\",\n        },\n    },\n    isActive: true,\n};\n\nconst StableDAI: BondConfig = {\n    name: 'DAI',\n    displayName: 'DAI',\n    token: ActiveTokensEnum.DAI,\n    iconPath: DAIIcon,\n    lpProvider: BondProviderEnum.UNISWAP_V2, // sushi rinkeby: \"https://app.sushi.com/add/0x6C538aDf35d1927497090e6971Fc46D8ed813dF6/0xc7AD46e0b8a400Bb3C915120d284AafbA8fc4735\",\n    type: BondType.STABLE_ASSET,\n    addresses: {\n        [Networks.RINKEBY]: {\n            bondAddress: '0xE6bD71E3acB44814bfED063c75057748bfA94D14',\n            reserveAddress: '0xc7AD46e0b8a400Bb3C915120d284AafbA8fc4735', // uniswapv2-\"0xC35F84DBd48fcB0467ac3Ee2C4e37D848B8d3173\",\n        },\n        [Networks.LOCAL]: {\n            bondAddress: '0x4ed7c70F96B99c776995fB64377f0d4aB3B0e1C1',\n            reserveAddress: '0xDc64a140Aa3E981100a9becA4E685f962f0cF6C9', // DAI\n        },\n        [Networks.MAINNET]: {\n            bondAddress: '0x464A471A6441Ed592e79F941aD95d07390A41F23',\n            reserveAddress: '0x6b175474e89094c44da98b954eedeac495271d0f',\n        },\n    },\n    isActive: true,\n};\n\nexport const BONDS = [BASH_DAI, StableDAI];\n","import { ethers, providers } from 'ethers';\nimport { snakeCase } from 'lodash';\n\nimport { BondAddresses, BondProviderEnum, BondType } from '../bonds.types';\n\nexport interface BondOptions {\n    name: string;\n    displayName: string;\n    token: string;\n    iconPath: string;\n    lpProvider: BondProviderEnum;\n    type: BondType;\n    networkID: number;\n    isActive: boolean;\n}\n\nexport abstract class Bond {\n    public ID: string;\n\n    protected bondContract?: ethers.Contract;\n\n    protected reserveContract?: ethers.Contract;\n\n    constructor(public readonly bondOptions: BondOptions) {\n        this.ID = snakeCase(bondOptions.name);\n    }\n\n    public abstract initializeContracts({ bondAddress, reserveAddress }: BondAddresses, signer: providers.JsonRpcSigner): void;\n    public abstract getTreasuryBalance(bondCalculatorContract: ethers.Contract, treasuryAddress: string): Promise<number>;\n    public abstract getTokenAmount(BASH_ADDRESS: string): Promise<number>;\n    public abstract getSbAmount(BASH_ADDRESS: string): Promise<number>;\n\n    public isLP(): boolean {\n        return this.bondOptions.type === BondType.LP;\n    }\n\n    public getLPProvider(): string {\n        const { bondAddress, reserveAddress } = this.getBondAddresses();\n\n        switch (this.bondOptions.lpProvider) {\n            case BondProviderEnum.UNISWAP_V2: {\n                return [BondProviderEnum.UNISWAP_V2, bondAddress, reserveAddress].join('/');\n            }\n            default:\n                throw new Error(`This LP Provider is not handled : \"${this.bondOptions.lpProvider}\"`);\n        }\n    }\n\n    public getBondContract(): ethers.Contract {\n        if (this.bondContract === undefined) throw new Error(`Bond contract for bond \"${this.bondOptions.name}\" is undefined`);\n\n        return this.bondContract;\n    }\n\n    public getReserveContract(): ethers.Contract {\n        if (this.reserveContract === undefined) throw new Error(`Reserve contract for bond \"${this.bondOptions.name}\" is undefined`);\n\n        return this.reserveContract;\n    }\n\n    public getBondAddresses(): BondAddresses {\n        if (!this.reserveContract || !this.bondContract) throw new Error('Unable to get the bonds contracts');\n\n        return {\n            bondAddress: this.bondContract.address,\n            reserveAddress: this.reserveContract.address,\n        };\n    }\n\n    public isCustomBond(): boolean {\n        return this.bondOptions.type === BondType.CUSTOM;\n    }\n}\n","import { Decimal } from 'decimal.js';\nimport { BigNumber, Contract, providers } from 'ethers';\n\nimport { LpBondContract, LpReserveContract } from 'abi';\nimport { BondAddresses } from 'helpers/bond/constants';\n\nimport { Bond, BondOptions } from './bond';\n\n// Keep all LP specific fields/logic within the LPBond class\nexport type LPBondOpts = BondOptions;\n\nexport class LPBond extends Bond {\n    public readonly LP_URL = '';\n\n    constructor(public readonly bondOptions: BondOptions) {\n        super(bondOptions);\n    }\n\n    public initializeContracts({ bondAddress, reserveAddress }: BondAddresses, signer: providers.JsonRpcSigner): void {\n        this.bondContract = new Contract(bondAddress, LpBondContract, signer);\n        this.reserveContract = new Contract(reserveAddress, LpReserveContract, signer);\n    }\n\n    public async getTreasuryBalance(bondCalculatorContract: Contract, treasuryAddress: string) {\n        const reserveContract = this.getReserveContract();\n\n        const tokenAmount: BigNumber = await reserveContract.balanceOf(treasuryAddress);\n\n        const valuation: BigNumber = await bondCalculatorContract.valuation(reserveContract.address, tokenAmount);\n\n        const markdown: BigNumber = await bondCalculatorContract.markdown(reserveContract.address);\n\n        // valuation * 10 ** 9 / markdown * 10 ** 18\n        const tokenUSD = new Decimal(valuation.toHexString()).div(10 ** 9).mul(new Decimal(markdown.toHexString()).div(10 ** 18));\n\n        return tokenUSD.toNumber();\n    }\n\n    public async getTokenAmount(BASH_ADDRESS: string) {\n        return this.getReserves(BASH_ADDRESS, true);\n    }\n\n    public async getSbAmount(BASH_ADDRESS: string) {\n        return this.getReserves(BASH_ADDRESS, false);\n    }\n\n    private async getReserves(BASH_ADDRESS: string, isToken: boolean): Promise<number> {\n        const token = this.getReserveContract();\n\n        const [reserve0, reserve1] = await token.getReserves();\n        const token1: string = await token.token1();\n        const isBASH = token1.toLowerCase() === BASH_ADDRESS.toLowerCase();\n\n        return isToken ? this.toTokenDecimal(false, isBASH ? reserve0 : reserve1) : this.toTokenDecimal(true, isBASH ? reserve1 : reserve0);\n    }\n\n    private toTokenDecimal(isBASH: boolean, reserve: number) {\n        return isBASH ? reserve / Math.pow(10, 9) : reserve / Math.pow(10, 18);\n    }\n}\n","import Decimal from 'decimal.js';\nimport { BigNumber, Contract, providers } from 'ethers';\n\nimport { LpBondContract, LpReserveContract } from 'abi';\n\nimport { BondAddresses } from '../bonds.types';\nimport { Bond } from './bond';\n\nexport class StableBond extends Bond {\n    public initializeContracts({ bondAddress, reserveAddress }: BondAddresses, signer: providers.JsonRpcSigner): void {\n        this.bondContract = new Contract(bondAddress, LpBondContract, signer);\n        this.reserveContract = new Contract(reserveAddress, LpReserveContract, signer);\n    }\n\n    public async getTreasuryBalance(bondCalculatorContract: Contract, treasuryAddress: string) {\n        const reserveContract = this.getReserveContract();\n\n        const tokenAmount: BigNumber = await reserveContract.balanceOf(treasuryAddress);\n\n        return new Decimal(tokenAmount.toString()).div(10 ** 18).toNumber();\n    }\n\n    public getTokenAmount() {\n        return Promise.resolve(0);\n    }\n\n    public getSbAmount() {\n        return Promise.resolve(0);\n    }\n}\n","import { Networks } from 'constants/blockchain';\n\nimport { BondOptions } from './bond/bond';\nimport { LPBond } from './bond/lp-bond';\nimport { StableBond } from './bond/stable-bond';\nimport { BondAddresses, BondConfig, BondType } from './bonds.types';\n\nexport const createBond = (bondConfig: BondOptions): LPBond | StableBond => {\n    switch (bondConfig.type) {\n        case BondType.LP:\n            return new LPBond(bondConfig);\n        case BondType.STABLE_ASSET:\n            return new StableBond(bondConfig);\n\n        default:\n            throw new Error('Undefined bond type');\n    }\n};\n\nexport const getBondContractsAddresses = (bondConfig: BondConfig, networkID: Networks): BondAddresses => {\n    const addresses = bondConfig.addresses[networkID];\n\n    if (!addresses || !addresses.bondAddress || !addresses.reserveAddress) throw new Error('Unable to get bond addresses');\n\n    return { bondAddress: addresses.bondAddress, reserveAddress: addresses.reserveAddress };\n};\n","import Decimal from 'decimal.js';\nimport { BigNumber, Contract, ethers } from 'ethers';\n\nimport { LPBond } from 'lib/bonds/bond/lp-bond';\nimport { StableBond } from 'lib/bonds/bond/stable-bond';\n\nexport const getLPBondQuote = async (bond: LPBond | StableBond, bondAmountInWei: ethers.BigNumber, bondCalculator: Contract, maxBondPrice: number) => {\n    const reserverAddress = bond.getBondAddresses().reserveAddress;\n    const maxBondValue = ethers.utils.parseEther('1');\n\n    const valuation = await bondCalculator.valuation(reserverAddress, bondAmountInWei);\n    const bondQuote = (await bond.getBondContract().payoutFor(valuation)) / 10 ** 9;\n\n    const maxValuation = await bondCalculator.valuation(reserverAddress, maxBondValue); // TODO should be static ?\n    const maxBondQuote = (await bond.getBondContract().payoutFor(maxValuation)) / 10 ** 9;\n\n    const maxBondPriceToken = maxBondPrice / (maxBondQuote / 10 ** 9);\n\n    return { bondQuote, maxBondPriceToken };\n};\n\nexport const getTokenBondQuote = async (bond: LPBond | StableBond, bondAmountInWei: ethers.BigNumber, maxBondPrice: number) => {\n    const bondQuote = (await bond.getBondContract().payoutFor(bondAmountInWei)) / 10 ** 18;\n\n    const maxBondPriceToken = maxBondPrice / 10 ** 18;\n\n    return { bondQuote, maxBondPriceToken };\n};\n\nexport const getLPPurchasedBonds = async (bond: LPBond | StableBond, bondCalculator: ethers.Contract, initialPurchased: BigNumber, daiPrice: number) => {\n    const reserveContract = bond.getReserveContract();\n    const markdown = await bondCalculator.markdown(reserveContract.address);\n\n    let purchased = await bondCalculator.valuation(reserveContract.address, initialPurchased.toString());\n    purchased = new Decimal(markdown.toString()).div(10 ** 18).mul(new Decimal(purchased.toString()).div(10 ** 9));\n\n    if (bond.isCustomBond()) {\n        purchased = purchased.mul(daiPrice);\n    }\n\n    return { purchased: purchased.toNumber() };\n};\n\nexport const getTokenPurchaseBonds = async (bond: LPBond | StableBond, bondCalculator: ethers.Contract, initialPurchased: number, daiPrice: number) => {\n    let purchased = new Decimal(initialPurchased.toString()).div(10 ** 18);\n\n    if (bond.isCustomBond()) {\n        purchased = purchased.mul(daiPrice);\n    }\n\n    return { purchased: purchased.toNumber() };\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport Decimal from 'decimal.js';\nimport { providers, constants, Contract, utils, BigNumber } from 'ethers';\nimport { isNil, snakeCase, sum } from 'lodash';\n\nimport { BondingCalcContract } from 'abi';\nimport { BONDS } from 'config/bonds';\nimport { getAddresses } from 'constants/addresses';\nimport { messages } from 'constants/messages';\nimport { WEB3State } from 'contexts/web3/web3.types';\nimport { metamaskErrorWrap } from 'helpers/networks/metamask-error-wrap';\nimport { createBond, getBondContractsAddresses } from 'lib/bonds/bonds.helper';\nimport { addNotification } from 'store/modules/messages/messages.slice';\nimport { IReduxState } from 'store/slices/state.interface';\nimport { RootState } from 'store/store';\n\nimport { getBlockchainData } from '../app/app.thunks';\nimport { addPendingTransaction, clearPendingTransaction } from '../transactions/transactions.slice';\nimport { TransactionTypeEnum } from '../transactions/transactions.type';\nimport { getLPBondQuote, getLPPurchasedBonds, getTokenBondQuote, getTokenPurchaseBonds } from './bonds.utils';\n\nexport const initializeBonds = createAsyncThunk('app/bonds', async (provider: WEB3State['provider'] | WEB3State['signer']) => {\n    if (!provider) throw new Error('Bond initialization error');\n\n    const signer = provider.getSigner('0xAd28CB10AC6FC37F0fA46c520962ef667756d166');\n    const chainID = await signer.getChainId();\n\n    // init bond calculator\n    const { BASH_BONDING_CALC_ADDRESS } = getAddresses(chainID);\n\n    const bondCalculator = new Contract(BASH_BONDING_CALC_ADDRESS, BondingCalcContract, signer);\n\n    const bondstoOutput = BONDS.reduce(\n        (acc, bondConfig) => {\n            const bondInstance = createBond({ ...bondConfig, networkID: chainID });\n\n            const contracts = getBondContractsAddresses(bondConfig, chainID);\n\n            bondInstance.initializeContracts(contracts, signer);\n\n            const bondName = snakeCase(bondConfig.name);\n\n            return {\n                bondInstances: {\n                    ...acc.bondInstances,\n                    [bondName]: bondInstance,\n                },\n                bondMetrics: {\n                    ...acc.bondMetrics,\n                    [bondName]: {\n                        treasuryBalance: null,\n                        bondDiscount: null,\n                        bondQuote: null,\n                        purchased: null,\n                        vestingTerm: null,\n                        maxBondPrice: null,\n                        bondPrice: null,\n                        marketPrice: null,\n                        maxBondPriceToken: null,\n                        allowance: null,\n                        balance: null,\n                        loading: false,\n                    },\n                },\n            };\n        },\n        {\n            bondInstances: {},\n            bondMetrics: {},\n        },\n    );\n\n    return {\n        ...bondstoOutput,\n        bondCalculator,\n    };\n});\n\nexport const getBondMetrics = createAsyncThunk('bonds/bonds-metrics', async ({ networkID }: { networkID: number }, { getState }) => {\n    const {\n        bonds: { bondMetrics, bondCalculator, bondInstances },\n        main: {\n            contracts: { BASH_CONTRACT },\n            metrics: { totalSupply, rawCircSupply, circSupply, reserves },\n            staking: { epoch },\n        },\n        markets: {\n            markets: { dai },\n        },\n    } = getState() as IReduxState;\n    const { DAO_ADDRESS, PRESALE_REDEMPTION_ADDRESS } = getAddresses(networkID);\n\n    if (isNil(rawCircSupply) || !circSupply || !totalSupply || !reserves || !dai || !epoch || !BASH_CONTRACT || !bondCalculator)\n        throw new Error('Missing metrics to compute bond metrics');\n\n    const bondsBashAmounts = await Promise.all([...Object.values(bondInstances).map(bond => bond.getSbAmount(BASH_CONTRACT.address))]);\n\n    const balances = Object.entries(bondMetrics).reduce(\n        (acc, [bondID, { treasuryBalance }]) => {\n            const isLPBond = bondInstances[bondID].isLP();\n\n            if (isLPBond) {\n                acc.lpBonds += treasuryBalance || 0;\n            } else {\n                acc.bashBonds += treasuryBalance || 0;\n            }\n\n            return acc;\n        },\n        { lpBonds: 0, bashBonds: 0 },\n    );\n\n    const daoBash = await BASH_CONTRACT.balanceOf(DAO_ADDRESS);\n    const daoBashAmount = Number(utils.formatUnits(daoBash, 'gwei'));\n    const redeemableBash = (await BASH_CONTRACT.balanceOf(PRESALE_REDEMPTION_ADDRESS)) / Math.pow(10, 9);\n\n    const rfvTreasury = balances.lpBonds / 2 + balances.bashBonds;\n    const bashAmounts = sum(bondsBashAmounts);\n\n    const bashSupply = totalSupply - bashAmounts - daoBashAmount - redeemableBash;\n\n    const rfv = rfvTreasury / bashSupply;\n    const stakingRebase = new Decimal(epoch.distribute.toString()).div(rawCircSupply.toString()).toNumber();\n    const treasuryForRunway = rfvTreasury / circSupply;\n    const runway = Math.log(treasuryForRunway) / Math.log(1 + stakingRebase) / 3;\n\n    const marketPrice = reserves.div(10 ** 9).toNumber() * dai;\n    const deltaMarketPriceRfv = ((rfv - marketPrice) / rfv) * 100;\n\n    return {\n        stakingRebase,\n        rfv,\n        deltaMarketPriceRfv,\n        rfvTreasury,\n        runway,\n    };\n});\n\nexport const getTreasuryBalance = createAsyncThunk('bonds/bonds-treasury', async ({ networkID }: { networkID: number }, { getState }) => {\n    const {\n        bonds: { bondInstances, bondCalculator },\n    } = getState() as IReduxState;\n\n    const { TREASURY_ADDRESS } = getAddresses(networkID);\n\n    if (!bondCalculator) throw new Error('Unable to get bondCalculator');\n\n    const balances = await Promise.all([...Object.values(bondInstances).map(bond => bond.getTreasuryBalance(bondCalculator, TREASURY_ADDRESS))]);\n\n    const keys = Object.keys(bondInstances);\n\n    return balances.reduce((acc, val, i) => {\n        return {\n            ...acc,\n            [keys[i]]: val,\n        };\n    }, {});\n});\n\nexport const calcBondDetails = createAsyncThunk(\n    'bonds/calcBondDetails',\n    async ({ bondID, value, networkID }: { bondID: string; value: number; networkID: number }, { getState, dispatch }) => {\n        const { bonds, main, markets } = getState() as RootState;\n        const { TREASURY_ADDRESS } = getAddresses(networkID);\n\n        const bondInstance = bonds.bondInstances[bondID];\n        const bondMetrics = bonds.bondMetrics[bondID];\n\n        if (!bondInstance || !bondMetrics || !bondInstance.getBondContract()) throw new Error('Unable to get bondInfos');\n\n        const reserves = main.metrics.reserves;\n        const { bondCalculator } = bonds;\n        const daiPrice = markets.markets.dai;\n\n        if (!reserves || !daiPrice || !bondCalculator) throw new Error('State is not setup for bonds');\n\n        const terms = await bondInstance.getBondContract().terms();\n        const maxBondPrice = await bondInstance.getBondContract().maxPayout();\n        const bondAmountInWei = utils.parseEther(value.toString());\n\n        const marketPrice = reserves.div(10 ** 9).toNumber() * daiPrice;\n        const baseBondPrice = (await bondInstance.getBondContract().bondPriceInUSD()) as BigNumber;\n\n        const bondPrice = bondInstance.isCustomBond() ? baseBondPrice.mul(daiPrice) : baseBondPrice;\n\n        const bondDiscount = new Decimal(reserves.toString())\n            .mul(10 ** 9)\n            .sub(bondPrice.toString())\n            .div(bondPrice.toString());\n\n        const { bondQuote, maxBondPriceToken } = bondInstance.isLP()\n            ? await getLPBondQuote(bondInstance, bondAmountInWei, bondCalculator, maxBondPrice)\n            : await getTokenBondQuote(bondInstance, bondAmountInWei, maxBondPrice);\n\n        if (!!value && bondQuote > maxBondPrice) {\n            dispatch(addNotification({ severity: 'error', description: messages.try_mint_more(maxBondPrice.toFixed(2).toString()) }));\n        }\n\n        const initialPurchased = await bondInstance.getReserveContract().balanceOf(TREASURY_ADDRESS);\n\n        const { purchased } = bondInstance.isLP()\n            ? await getLPPurchasedBonds(bondInstance, bondCalculator, initialPurchased, daiPrice)\n            : await getTokenPurchaseBonds(bondInstance, bondCalculator, initialPurchased, daiPrice);\n\n        return {\n            bondID: bondID,\n            bondDiscount,\n            bondQuote,\n            purchased,\n            vestingTerm: Number(terms.vestingTerm), // Number(terms.vestingTerm),\n            maxBondPrice: maxBondPrice / 10 ** 9,\n            bondPrice, // bondPrice / Math.pow(10, 18),\n            marketPrice,\n            maxBondPriceToken,\n        };\n    },\n);\n\nexport const getBondTerms = createAsyncThunk('bonds/terms', async (bondID: string, { getState }) => {\n    const {\n        bonds: { bondInstances },\n    } = getState() as RootState;\n\n    if (bondInstances[bondID] === undefined) throw new Error('Bond not found');\n\n    const terms = await bondInstances[bondID].getBondContract().terms();\n\n    return { terms };\n});\n\nexport const approveBonds = createAsyncThunk('bonds/approve', async ({ signer, bondID }: { signer: providers.Web3Provider; bondID: string }, { dispatch, getState }) => {\n    const {\n        bonds: { bondInstances },\n    } = getState() as RootState;\n\n    const bond = bondInstances[bondID];\n\n    if (!bond) throw new Error('Bond not found');\n\n    const address = await signer.getSigner().getAddress();\n    const gasPrice = await signer.getGasPrice();\n\n    const { bondAddress } = bond.getBondAddresses();\n    const approveTx = await bond.getReserveContract().approve(bondAddress, constants.MaxUint256, { gasPrice });\n    try {\n        dispatch(\n            addPendingTransaction({\n                hash: approveTx.hash,\n                type: TransactionTypeEnum.APPROVE_CONTRACT,\n            }),\n        );\n        await approveTx.wait();\n\n        dispatch(addNotification({ severity: 'success', description: messages.tx_successfully_send }));\n    } catch (err) {\n        metamaskErrorWrap(err, dispatch);\n    } finally {\n        if (approveTx) {\n            dispatch(clearPendingTransaction(TransactionTypeEnum.APPROVE_CONTRACT));\n        }\n    }\n\n    const allowance = await bond.getReserveContract().allowance(address, bondAddress);\n\n    return { allowance };\n});\n\nexport const calculateUserBondDetails = createAsyncThunk(\n    'bonds/calculateUserBondDetails',\n    async ({ signerAddress, signer, bondID }: { signer: providers.Web3Provider; signerAddress: string; bondID: string }, { getState, dispatch }) => {\n        const {\n            main: {\n                blockchain: { timestamp },\n            },\n            bonds: { bondInstances },\n        } = getState() as IReduxState;\n\n        const bond = bondInstances[bondID];\n\n        if (!bond) throw new Error('Unable to quote');\n\n        dispatch(getBlockchainData(signer)); // needed to result the timestamp\n\n        const bondContract = bond.getBondContract();\n        const userAddress = signerAddress;\n\n        const { payout, vesting, lastTime } = await bondContract.bondInfo(userAddress);\n        const interestDue = payout / Math.pow(10, 9);\n        const bondMaturationBlock = Number(vesting) + Number(lastTime);\n        const pendingPayout = await bondContract.pendingPayoutFor(userAddress);\n\n        const pendingPayoutVal = utils.formatUnits(pendingPayout, 'gwei');\n\n        return {\n            interestDue,\n            bondMaturationBlock,\n            bondVesting: bondMaturationBlock - (timestamp ?? 0),\n            pendingPayout: Number(pendingPayoutVal),\n        };\n    },\n);\n\nexport const depositBond = createAsyncThunk(\n    'bonds/deposit',\n    async (\n        {\n            amount,\n            bondID,\n            signer,\n            signerAddress,\n            slippage,\n            recipientAddress,\n        }: { amount: number; bondID: string; signer: providers.Web3Provider; signerAddress: string; slippage?: number; recipientAddress: string },\n        { dispatch, getState },\n    ) => {\n        const { bonds } = getState() as RootState;\n\n        const bondInstance = bonds.bondInstances[bondID];\n        const bondMetrics = bonds.bondMetrics[bondID];\n\n        if (!bondInstance || !bondMetrics) throw new Error('Unable to get bonds');\n\n        const address = recipientAddress.length > 0 ? recipientAddress : signerAddress;\n        const acceptedSlippage = (slippage ?? 0.5) / 100 || 0.005;\n        const valueInWei = utils.parseUnits(amount.toString(), 'ether');\n        const bondContract = bondInstance.getBondContract();\n\n        if (!bondMetrics.bondPrice) throw new Error('Unable to get bondPrice');\n\n        const gasPrice = await signer.getGasPrice();\n\n        let bondTx;\n\n        try {\n            const bondPremium = await bondInstance.getBondContract().bondPrice();\n            const premium = Math.round(bondPremium.toNumber());\n            const maxPremium = Math.round(premium * (1 + acceptedSlippage));\n\n            const gasEstimation = await bondContract.estimateGas.deposit(valueInWei, maxPremium, address);\n\n            bondTx = await bondContract.deposit(valueInWei, premium, address, { gasPrice, gasLimit: gasEstimation });\n            dispatch(\n                addPendingTransaction({\n                    hash: bondTx.hash,\n                    type: TransactionTypeEnum.BONDING,\n                }),\n            );\n\n            await bondTx.wait();\n            dispatch(addNotification({ severity: 'success', description: messages.tx_successfully_send }));\n            dispatch(addNotification({ severity: 'info', description: messages.your_balance_update_soon }));\n\n            await dispatch(calculateUserBondDetails({ bondID, signer, signerAddress }));\n\n            dispatch(addNotification({ severity: 'info', description: messages.your_balance_updated }));\n        } catch (err: unknown) {\n            return metamaskErrorWrap(err, dispatch);\n        } finally {\n            if (bondTx) {\n                dispatch(clearPendingTransaction(TransactionTypeEnum.BONDING));\n            }\n        }\n    },\n);\n\nexport const loadBondBalancesAndAllowances = createAsyncThunk('bonds/balances-and-allowances', async ({ address, bondID }: { address: string; bondID: string }, { getState }) => {\n    const {\n        bonds: { bondInstances },\n    } = getState() as IReduxState;\n\n    const bond = bondInstances[bondID];\n\n    if (!bond) throw new Error('Bond not found');\n\n    const bondContract = bond.getBondContract();\n    const reserveContract = bond.getReserveContract();\n\n    const allowance = await reserveContract.allowance(address, bondContract.address);\n    const balance = await reserveContract.balanceOf(address);\n\n    return { allowance, balance, ID: bond.ID };\n});\n\nexport const redeemBond = createAsyncThunk(\n    'bonds/redeem',\n    async (\n        { recipientAddress, signer, bondID, isAutoStake }: { recipientAddress: string; signer: providers.Web3Provider; bondID: string; isAutoStake: boolean },\n        { dispatch, getState },\n    ) => {\n        const {\n            bonds: { bondInstances },\n        } = getState() as RootState;\n\n        const bondInstance = bondInstances[bondID];\n        if (!bondInstance) throw new Error('Unable to get bondID from bondInstances');\n\n        const gasPrice = await signer.getGasPrice();\n        const signerAddress = await signer.getSigner().getAddress();\n\n        const redeemTx = await bondInstance.getBondContract().redeem(recipientAddress, isAutoStake, { gasPrice });\n\n        try {\n            dispatch(\n                addPendingTransaction({\n                    hash: redeemTx.hash,\n                    type: TransactionTypeEnum.REDEEMING,\n                }),\n            );\n\n            await redeemTx.wait();\n\n            dispatch(addNotification({ severity: 'success', description: messages.tx_successfully_send }));\n            dispatch(addNotification({ severity: 'info', description: messages.your_balance_update_soon }));\n\n            await dispatch(calculateUserBondDetails({ signerAddress, signer, bondID }));\n            await dispatch(loadBondBalancesAndAllowances({ address: signerAddress, bondID }));\n            dispatch(addNotification({ severity: 'info', description: messages.your_balance_updated }));\n        } catch (err: unknown) {\n            return metamaskErrorWrap(err, dispatch);\n        } finally {\n            if (redeemTx) {\n                if (isAutoStake) {\n                    dispatch(clearPendingTransaction(TransactionTypeEnum.REDEEMING_STAKING));\n                } else {\n                    dispatch(clearPendingTransaction(TransactionTypeEnum.REDEEMING));\n                }\n            }\n        }\n    },\n);\n","import { Networks } from './blockchain';\n\nconst LOCAL = {\n    DAI_ADDRESS: '0xDc64a140Aa3E981100a9becA4E685f962f0cF6C9',\n    BASH_ADDRESS: '0xa513E6E4b8f2a923D98304ec87F64353C4D5C853',\n    SBASH_ADDRESS: '0x2279B7A0a67DB372996a5FaB50D91eAA73d2eBe6',\n    WSBASH_ADDRESS: '0x8A791620dd6260079BF849Dc5567aDC3F2FdC318',\n    BASH_BONDING_CALC_ADDRESS: '0x7969c5eD335650692Bc04293B07F5BF2e7A673C0', // todo: bondingCalculator? fuckit.js:60\n    TREASURY_ADDRESS: '0x610178dA211FEF7D417bC0e6FeD39F05609AD788',\n    STAKING_ADDRESS: '0xA51c1fc2f0D1a1b8494Ed1FE312d7C3a78Ed91C0',\n    STAKING_HELPER_ADDRESS: '0x0DCd1Bf9A1b36cE34237eEaFef220932846BCD82',\n    DAO_ADDRESS: '0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266', // \"0x000000000000000000000000000000000000dead\",\n    ZAPIN_ADDRESS: '',\n    REDEEM_ADDRESS: '', // SnowbankFinalRedistribution - https://docs.snowbank.finance/events/final-redistribution -\n    BASH_DAI_LP_ADDRESS: '', //Pool\n    ATBASH_PRESALE_ADDRESS: '0x5FbDB2315678afecb367f032d93F642f64180aa3',\n    PRESALE_REDEMPTION_ADDRESS: '',\n};\n\nconst MAINNET = {\n    ZAPIN_ADDRESS: '',\n\n    ABASH_ADDRESS: '0x56028C51945106a47ECd68258f794a5f9b98d9a6',\n    BASH_ADDRESS: '0x5646077E2779a4e8607A99257bD76F627A262d86',\n    BASH_BONDING_CALC_ADDRESS: '0x7b83ac0F67F1c829459C226C5d8c66095c00b442',\n    BASH_DAI_BOND_ADDRESS: '0x28Da28E466E7e255Fef956878531fd2218c52267',\n    BASH_DAI_LP_ADDRESS: '0xA1eB9642CCe9607eb8acD94490C350fe98092cd3',\n    DAI_ADDRESS: '0x6b175474e89094c44da98b954eedeac495271d0f',\n    DAI_BOND_ADDRESS: '0x464A471A6441Ed592e79F941aD95d07390A41F23',\n    DAO_ADDRESS: '0x956769FC9Dae4ae9309990167937Ac6DeF306fBC',\n    PRESALE_ADDRESS: '0xB293C23df505C586855678B0c66BE3767ED87B33',\n    PRESALE_REDEMPTION_ADDRESS: '0x14fAD9A044BbFF389e6a609e2fa68F83C4B88631',\n    REDEEM_ADDRESS: '',\n    SBASH_ADDRESS: '0x605d3e1De7896C29A75B4E24E42CA6D1aD703809',\n    STAKING_ADDRESS: '0xfd0610C109cb4e0079f801A190FD2dfC6A84aC50',\n    STAKING_HELPER_ADDRESS: '0x57DA2292620e69B07cfbFb47E390735Fecc94e40',\n    TREASURY_ADDRESS: '0x26FdD9ec526C61A3139ab27bA7775F07964E5EA1',\n    WSBASH_ADDRESS: '0x961a96fD2525b1B9dfE400fb96876f7417D68014',\n};\n\nconst RINKEBY = {\n    DAO_ADDRESS: '0x02c368c0787BB33ACAc698049CcA2454B5cC96c5',\n    SBASH_ADDRESS: '0x94764A2216688CDccea57AF64880df17d33328E1',\n    WSBASH_ADDRESS: '0xa19f7de1c790a3d6bda9905d10f982d533044698',\n    BASH_ADDRESS: '0xf7A1D14EC3a45dA9bde66E6b91e68aDc32fa4498',\n    DAI_ADDRESS: '0xc7AD46e0b8a400Bb3C915120d284AafbA8fc4735',\n    STAKING_ADDRESS: '0x89f8ef9714437468eAe11c46a030FDd2a24Beeee',\n    STAKING_HELPER_ADDRESS: '0x228A6f8e496940c4799375bE9a9e3eF1249980bb',\n    BASH_BONDING_CALC_ADDRESS: '0x4fE972dF6aA2F5f2C1d270e0Ba34C155340bdddb', // daibondCalc: \"0xa5381A8345edfafc42EB9946C36f5715083a42c9\",\n    TREASURY_ADDRESS: '0x73AaDec9511682b1666345a51056900993D5cb8f',\n    ZAPIN_ADDRESS: '',\n    REDEEM_ADDRESS: '',\n\n    BASH_DAI_LP_ADDRESS: '0xC55C0aD007edaEB867e77d2906C682D99B2C3c23',\n    BASH_DAI_BOND_ADDRESS: '0xfabd3f8772474250863C7f0c642Fd1c7704B1caa',\n    PRESALE_REDEMPTION_ADDRESS: '0xD11C2412EaBacAE2A8115df31e69FC382330cBe4',\n};\n\nexport const getAddresses = (networkID: number) => {\n    switch (networkID) {\n        case Networks.LOCAL:\n            return LOCAL;\n        case Networks.MAINNET:\n            return MAINNET;\n        case Networks.RINKEBY:\n            return RINKEBY;\n        default:\n            throw Error(\"Network don't support\");\n    }\n};\n/* \n * ABASH_ADDRESS: \"0x2e05CFB13148bcE832FF8400465326D11ae8dD7F\"\nBASH_ADDRESS: \"0xf7A1D14EC3a45dA9bde66E6b91e68aDc32fa4498\"\nBASH_BONDING_CALC_ADDRESS: \"0x4fE972dF6aA2F5f2C1d270e0Ba34C155340bdddb\"\nBASH_DAI_BOND_ADDRESS: \"0xfabd3f8772474250863C7f0c642Fd1c7704B1caa\"\nBASH_DAI_LP_ADDRESS: \"0xC55C0aD007edaEB867e77d2906C682D99B2C3c23\"\nDAI_ADDRESS: \"0xc7AD46e0b8a400Bb3C915120d284AafbA8fc4735\"\nDAI_BOND_ADDRESS: \"0xE6bD71E3acB44814bfED063c75057748bfA94D14\"\nDAO_ADDRESS: \"0x02c368c0787BB33ACAc698049CcA2454B5cC96c5\"\nPRESALE_ADDRESS: \"0xe5946Db5a02Fe8Eadc24aeD0fe322FEaCd2C7924\"\nPRESALE_REDEMPTION_ADDRESS: \"0xD11C2412EaBacAE2A8115df31e69FC382330cBe4\"\nREDEEM_ADDRESS: \"\"\nSBASH_ADDRESS: \"0x94764A2216688CDccea57AF64880df17d33328E1\"\nSTAKING_ADDRESS: \"0x89f8ef9714437468eAe11c46a030FDd2a24Beeee\"\nSTAKING_HELPER_ADDRESS: \"0x228A6f8e496940c4799375bE9a9e3eF1249980bb\"\nTREASURY_ADDRESS: \"0x73AaDec9511682b1666345a51056900993D5cb8f\"\nWSBASH_ADDRESS: \"0xa19f7dE1C790A3D6bda9905D10F982D533044698\"\n */\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { Transaction, TransactionType } from './transactions.type';\n\nconst initialState = new Array<Transaction>();\n\nconst pendingTxnsSlice = createSlice({\n    name: 'pendingTransactions',\n    initialState,\n    reducers: {\n        addPendingTransaction(state, action: PayloadAction<Pick<Transaction, 'hash' | 'type'>>) {\n            state.push({ ...action.payload, status: 'PENDING' });\n        },\n        clearPendingTransaction(state, action: PayloadAction<TransactionType>) {\n            const target = state.find(x => x.type === action.payload);\n            if (target) {\n                target.status = 'DONE';\n            }\n        },\n    },\n});\n\nexport const { addPendingTransaction, clearPendingTransaction } = pendingTxnsSlice.actions;\n\nexport default pendingTxnsSlice.reducer;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { Contract, ethers } from 'ethers';\n\nimport { LpReserveContract, MemoTokenContract, RedeemContract, StakingContract, StakingHelperContract, TimeTokenContract, WrappingContract, ZapinContract } from 'abi';\nimport { getAddresses } from 'constants/addresses';\nimport { WEB3State } from 'contexts/web3/web3.types';\nimport { ERC20_DECIMALS } from 'lib/contracts/contracts';\nimport { IReduxState } from 'store/slices/state.interface';\nimport { RootState } from 'store/store';\n\nimport { ContractEnum } from './app.types';\n\nexport const initializeProviderContracts = createAsyncThunk(\n    'app/contracts',\n    async ({ provider, signer }: { provider?: WEB3State['provider']; signer?: WEB3State['signer'] }): Promise<{ [key in ContractEnum]: Contract }> => {\n        if (!provider && !signer) throw new Error('No provider or signer');\n\n        const chainID = (await (signer ?? provider)?.getNetwork())?.chainId;\n\n        if (!chainID || typeof chainID !== 'number') throw new Error('Unable to initialize contracts');\n\n        const addresses = getAddresses(chainID);\n        const contractSignerOrProvider = signer ? await signer.getSigner() : await provider;\n\n        if (!contractSignerOrProvider) throw new Error('Unable to get a contract signer or provider');\n\n        return {\n            [ContractEnum.STAKING_CONTRACT]: new Contract(addresses.STAKING_ADDRESS, StakingContract, contractSignerOrProvider),\n            [ContractEnum.STAKING_HELPER_CONTRACT]: new Contract(addresses.STAKING_HELPER_ADDRESS, StakingHelperContract, contractSignerOrProvider),\n            [ContractEnum.BASH_DAI_LP_CONTRACT]: new Contract(addresses.BASH_DAI_LP_ADDRESS, LpReserveContract, contractSignerOrProvider),\n            [ContractEnum.REDEEM_CONTRACT]: new Contract(addresses.REDEEM_ADDRESS, RedeemContract, contractSignerOrProvider),\n            [ContractEnum.SBASH_CONTRACT]: new Contract(addresses.SBASH_ADDRESS, MemoTokenContract, contractSignerOrProvider),\n            [ContractEnum.BASH_CONTRACT]: new Contract(addresses.BASH_ADDRESS, TimeTokenContract, contractSignerOrProvider),\n            [ContractEnum.DAI_CONTRACT]: new Contract(addresses.DAI_ADDRESS, TimeTokenContract, contractSignerOrProvider),\n            [ContractEnum.WSBASH_CONTRACT]: new Contract(addresses.WSBASH_ADDRESS, WrappingContract, contractSignerOrProvider),\n            [ContractEnum.ZAPING_CONTRACT]: new Contract(addresses.WSBASH_ADDRESS, ZapinContract, contractSignerOrProvider),\n        };\n    },\n);\n\nexport const getBlockchainData = createAsyncThunk('app/blockchain', async (provider: WEB3State['provider'] | WEB3State['signer']) => {\n    if (!provider) throw new Error('Unable to find provider');\n\n    const currentBlock = await provider.getBlockNumber();\n    const { timestamp } = await provider.getBlock(currentBlock);\n\n    return {\n        currentBlock,\n        timestamp,\n    };\n});\n\nexport const getCoreMetrics = createAsyncThunk('app/coreMetrics', async (_, { getState }) => {\n    const {\n        main: {\n            contracts: { BASH_CONTRACT, SBASH_CONTRACT, BASH_DAI_LP_CONTRACT },\n        },\n    } = getState() as RootState;\n\n    if (!BASH_CONTRACT || !SBASH_CONTRACT || !BASH_DAI_LP_CONTRACT) throw new Error('Unable to get coreMetrics');\n\n    const rawCircSupply = await SBASH_CONTRACT.circulatingSupply();\n    const totalSupply = (await BASH_CONTRACT.totalSupply()) / 10 ** ERC20_DECIMALS;\n    const circSupply = rawCircSupply / Math.pow(10, ERC20_DECIMALS);\n\n    const [reserve1, reserve2]: ethers.BigNumber[] = await BASH_DAI_LP_CONTRACT.getReserves();\n\n    return {\n        totalSupply,\n        circSupply,\n        rawCircSupply,\n        reserves: reserve2.div(reserve1),\n    };\n});\n\nexport const getStakingMetrics = createAsyncThunk('app/stakingMetrics', async (_, { getState }) => {\n    const {\n        main: {\n            contracts: { STAKING_CONTRACT },\n        },\n    } = getState() as IReduxState;\n\n    if (!STAKING_CONTRACT) throw new Error('Unable to get staking contract');\n\n    const epoch = await STAKING_CONTRACT.epoch();\n    const secondsToNextEpoch = 0;\n    const index = await STAKING_CONTRACT.index();\n\n    return {\n        epoch: {\n            distribute: epoch.distribute,\n            endTime: epoch.endTime,\n            number: epoch.number,\n        },\n        index,\n        secondsToNextEpoch,\n    };\n});\n","export const ERC20_DECIMALS = 9;\n","export enum ActiveTokensEnum {\n    'DAI' = 'dai',\n}\n\nexport const ACTIVE_TOKENS: ActiveTokensEnum[] = [ActiveTokensEnum.DAI];\n","import Decimal from 'decimal.js';\nimport { BigNumber, utils } from 'ethers';\nimport { pick } from 'lodash';\nimport { createSelector } from 'reselect';\n\nimport { formatUSD } from 'helpers/price-units';\nimport { IReduxState } from 'store/slices/state.interface';\nimport { RootState } from 'store/store';\n\nimport { calculateStakingRewards } from './app.helpers';\n\nexport const selectFormattedReservePrice = (state: RootState): string | null => {\n    const { reserves } = state.main.metrics;\n    const { dai } = state.markets.markets;\n\n    if (!reserves || !dai) return null;\n\n    const reservePrice = Number(utils.formatUnits(reserves.toString(), 'gwei')) * dai;\n\n    return formatUSD(reservePrice, 2);\n};\n\nexport const selectReserve = (state: RootState): Decimal => new Decimal(state.main.metrics.reserves?.toString() ?? 0);\nexport const selectReserveLoading = (state: RootState): boolean => state.main.metrics.reserves === null;\n\nexport const selectBlockchainLoading = (state: RootState) => state.main.blockchain.loading === true;\nexport const selectMetricsLoading = (state: RootState) => state.main.metrics.loading === true;\nexport const selectStakingLoading = (state: RootState) => state.main.staking.loading === true;\nexport const selectContractsLoading = (state: RootState) => Object.values(state.main.contracts).some(contract => contract === null);\n\nexport const useContractLoaded = (state: RootState): boolean => {\n    const { contracts } = state.main;\n\n    return Object.values(contracts).every(contract => contract !== null);\n};\n\nexport const selectAppLoading = createSelector(\n    [selectReserveLoading, selectBlockchainLoading, selectMetricsLoading, selectBlockchainLoading, selectContractsLoading],\n    (...conditions) => {\n        return conditions.some(condition => condition === true);\n    },\n);\n\nexport const useNextRebase = (state: RootState): number | undefined => {\n    const {\n        main: {\n            staking: { epoch },\n        },\n    } = state;\n\n    return epoch?.endTime;\n};\n\nexport const useBlockchainInfos = (state: RootState) => state.main.blockchain;\n\nexport const selectCirculatingSupply = (state: RootState) => state.main.metrics.circSupply;\n\nexport const selectUserStakingInfos = createSelector(\n    [\n        (state: IReduxState) => {\n            return {\n                circSupply: state.main.metrics.circSupply,\n                ...pick(state.main.staking, ['epoch', 'index']),\n                ...pick(state.account.balances, ['SBASH', 'WSBASH']),\n            };\n        },\n    ],\n    ({ index, epoch, circSupply, SBASH, WSBASH }) => {\n        let stakingRebase = new Decimal(0);\n\n        const SBASHBalance: Decimal = new Decimal(SBASH.div(10 ** 9).toHexString());\n        const WBASHBalance: Decimal = new Decimal(WSBASH.div(10 ** 9).toHexString());\n\n        if (epoch?.distribute && circSupply) stakingRebase = new Decimal(epoch.distribute.toHexString()).div(new Decimal(circSupply).mul(10 ** 9));\n\n        const nextRewardValue = stakingRebase.mul(SBASHBalance);\n        const { fiveDayRate } = calculateStakingRewards(epoch, circSupply || 0);\n\n        const effectiveNextRewardValue = nextRewardValue.add(stakingRebase.mul(WBASHBalance).mul((index ?? BigNumber.from(0)).toHexString()));\n        const wrappedTokenEquivalent = WBASHBalance.mul(index?.toHexString() || 0);\n\n        return {\n            fiveDayRate: `${fiveDayRate && (fiveDayRate * 100).toFixed(4)}  %`,\n            stakingRebasePercentage: `${stakingRebase.mul(100).toFixed(2)} %`,\n            nextRewardValue: `${nextRewardValue.toFixed(2)} BASH`,\n            effectiveNextRewardValue: effectiveNextRewardValue ? `${effectiveNextRewardValue} wsBASH` : null,\n            wrappedTokenEquivalent: `${wrappedTokenEquivalent?.toString() || 0} sBASH`,\n            optionalMetrics: WBASHBalance.gt(0),\n        };\n    },\n);\n","import Decimal from 'decimal.js';\n\nimport { Epoch } from './app.types';\n\nexport const calculateStakingRewards = (epoch: Epoch | null, circSupply: number) => {\n    const stakingReward = new Decimal(epoch?.distribute.toString() || 0); // the amount of BASH to distribute in the coming epoch\n    const stakingRebase = stakingReward.div(new Decimal(circSupply).mul(10 ** 9)); // rewardYield rate for this epoch\n    const fiveDayRate = stakingRebase ? Math.pow(1 + stakingRebase.toNumber(), 5 * 3) - 1 : null; // 3 epoch/day\n\n    return {\n        fiveDayRate,\n        stakingAPY: stakingRebase ? Math.pow(1 + stakingRebase.toNumber(), 365 * 3) - 1 * 100 : null,\n        stakingReward,\n        stakingRebase,\n    };\n};\n","import Decimal from 'decimal.js';\nimport { utils } from 'ethers';\nimport { createSelector } from 'reselect';\n\nimport { RootState } from 'store/store';\n\nimport { selectReserve } from '../app/app.selectors';\n\nexport const selectBASHBalance = (state: RootState): Decimal => {\n    const BASHAmount = state.account.balances.BASH; // 9 Decimals\n\n    return new Decimal(BASHAmount.toString()).div(10 ** 9);\n};\n\nexport const selectSBASHBalance = (state: RootState): Decimal => {\n    const SBASHAmount = state.account.balances.SBASH; // 9 Decimals\n\n    return new Decimal(SBASHAmount.toString()).div(10 ** 9);\n};\n\nexport const selectDaiPrice = (state: RootState): Decimal => {\n    return new Decimal(state.markets.markets.dai ?? 0);\n};\n\nexport const selectBalancesInUSD = createSelector([selectBASHBalance, selectSBASHBalance, selectReserve, selectDaiPrice], (BashBalance, SBashBalance, reserve, dai) => {\n    const marketPrice = reserve.mul(dai);\n    return {\n        BASH: BashBalance.mul(marketPrice.div(10 ** 9)),\n        SBASH: SBashBalance.mul(marketPrice.div(10 ** 9)),\n    };\n});\n\nexport const selectWSBASHBalance = (state: RootState): Decimal => {\n    const WSBASHAmount = state.account.balances.WSBASH;\n\n    return new Decimal(WSBASHAmount.toString()).div(10 ** 9); // 9 Decimals\n};\n\nexport const selectFormattedStakeBalance = createSelector([selectBASHBalance, selectSBASHBalance, selectWSBASHBalance], (BASHBalance, SBASHBalance, WSBASHBalance) => {\n    return Object.entries({ BASH: BASHBalance, SBASH: SBASHBalance, WSBASH: WSBASHBalance }).reduce(\n        (acc, [key, amount]) => {\n            return {\n                ...acc,\n                [key]: [amount.toFixed(2), key.toLocaleUpperCase()].join(' '),\n            };\n        },\n        {\n            BASH: '0.00 BASH',\n            SBASH: '0.00 SBASH',\n            WSBASH: '0.00 WSBASH',\n        },\n    );\n});\n\nexport const selectFormattedBASHBalance = (state: RootState): string => {\n    const BASHAmount = state.account.balances.BASH; // 9 Decimals\n\n    return [Number(utils.formatUnits(BASHAmount, 'gwei')).toFixed(2), 'BASH'].join(' ');\n};\n\nexport const selectUserStakingAllowance = (state: RootState) => {\n    const { BASH, SBASH, WSBASH } = state.account.stakingAllowance;\n\n    return {\n        BASHAllowanceNeeded: BASH.eq(0),\n        SBASHAllowanceNeeded: SBASH.eq(0),\n        WSBASHAllowanceNeeded: WSBASH.eq(0),\n    };\n};\n\nexport const selectAccountLoading = (state: RootState): boolean => state.account.loading;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Dispatch } from 'redux';\n\nimport { messages } from 'constants/messages';\nimport i18n from 'i18n';\nimport { addNotification } from 'store/modules/messages/messages.slice';\n\nexport const metamaskErrorWrap = (err: any, dispatch: Dispatch) => {\n    let text = messages.something_wrong;\n\n    const reason = err.reason ?? 'Internal error';\n\n    if (err.code && err.code === -32603) {\n        if (err.message.indexOf('ds-math-sub-underflow') >= 0) {\n            text = i18n.t('messages.BondMoreThanYourBalance') + ' Error code: 32603. Message: ds-math-sub-underflow';\n        }\n\n        if (err.data && err.data.message) {\n            text = err.data.message.includes(':') ? err.data.message.split(':')[1].trim() : err.data.data || err.data.message;\n        }\n\n        if (err.data && err.data.message && err.data.message.includes('gas required exceeds allowance')) {\n            text = i18n.t('messages.InsufficientBalance');\n        }\n\n        if (err.data && err.data.message && err.data.message.includes('Bond too small')) {\n            text = i18n.t('messages.BondTooSmall');\n        }\n    }\n\n    if (err.code && err.code === 4001) {\n        if (err.message.includes('User denied transaction signature')) {\n            text = i18n.t('messages.UserDeniedSignature');\n        }\n    }\n\n    return dispatch(addNotification({ severity: 'error', description: text, detailledDescription: reason }));\n};\n","import { createDraftSafeSelector } from '@reduxjs/toolkit';\nimport Decimal from 'decimal.js';\nimport { TFunction } from 'i18next';\nimport { isNil, sum } from 'lodash';\nimport { Duration } from 'luxon';\nimport { createSelector } from 'reselect';\n\nimport { formatTimer } from 'helpers/prettify-seconds';\nimport { formatUSD, formatUSDFromDecimal } from 'helpers/price-units';\nimport { LPBond } from 'lib/bonds/bond/lp-bond';\nimport { StableBond } from 'lib/bonds/bond/stable-bond';\nimport { RootState } from 'store/store';\n\nimport { useContractLoaded } from '../app/app.selectors';\nimport { selectIndex } from '../stake/stake.selectors';\nimport { BondItem, BondMetrics } from './bonds.types';\n\nexport const selectBondInstances = (state: RootState) => Object.values(state.bonds.bondInstances);\n\nexport const selectAllBonds = createDraftSafeSelector([selectBondInstances], bondInstances => {\n    return Object.values(bondInstances).reduce(\n        (acc, bondInstance) => {\n            if (bondInstance.bondOptions.isActive === true) {\n                return {\n                    ...acc,\n                    activeBonds: [...acc.activeBonds, bondInstance],\n                };\n            }\n\n            return {\n                ...acc,\n                inactiveBonds: [...acc.inactiveBonds, bondInstance],\n            };\n        },\n        { activeBonds: new Array<LPBond | StableBond>(), inactiveBonds: new Array<LPBond | StableBond>() },\n    );\n});\n\nexport const selectBondInfos = (bonds: Record<string, BondItem>, bondID: string): BondItem | null => {\n    const bond = bonds[bondID];\n\n    if (!bond) return null;\n\n    return bond;\n};\n\nexport const selectBondMintingMetrics = (metrics: BondMetrics) => {\n    let bondPrice = null;\n\n    bondPrice = formatUSD(Number(metrics.bondPrice) / 1e18, 2);\n\n    const balance = metrics.balance ? new Decimal(metrics.balance.toString()).div(10 ** 18).toFixed(2) : null;\n    const quote = !isNil(metrics.bondQuote) ? ` ${new Decimal(metrics.bondQuote).toFixed(2)} BASH` : null;\n    const vestingTerm = metrics.vestingTerm ? Duration.fromObject({ seconds: metrics.vestingTerm }).as('days') : null;\n\n    return {\n        bondPrice,\n        allowance: metrics.allowance,\n        balance,\n        vestingTerm,\n        maxBondPrice: metrics.maxBondPrice,\n        bondDiscount: !isNil(metrics.bondDiscount) ? `${metrics.bondDiscount.mul(100).toFixed(2)} %` : null,\n        purchased: metrics.purchased !== null ? formatUSD(metrics.purchased) : null,\n        bondSoldOut: (metrics.bondDiscount?.toNumber() ?? 0) * 100 < -30,\n        quote,\n    };\n};\n\nexport const selectBondRedeemMetrics = (metrics: BondMetrics) => {\n    const vestingTerm = metrics.vestingTerm ? Duration.fromObject({ seconds: metrics.vestingTerm }).as('days') : null;\n\n    return {\n        bondDiscount: !isNil(metrics.bondDiscount) ? `${metrics.bondDiscount.mul(100).toFixed(2)} %` : null,\n        vestingTerm,\n    };\n};\n\nexport const selectBondPrice = (state: RootState, bondID: string) => {\n    const metrics = state.bonds.bondMetrics[bondID];\n\n    if (!metrics || metrics.bondPrice === null) return null;\n\n    return formatUSDFromDecimal(new Decimal(metrics.bondPrice.toString()).div(10 ** 18), 2);\n};\n\nexport const selectBondIsQuoting = (state: RootState, bondID: string) => {\n    const bond = state.bonds.bondMetrics[bondID];\n\n    if (!bond) throw new Error('Unable to get bond');\n\n    return bond.loading ?? false;\n};\n\nexport const selectBondQuoteResult = (\n    {\n        bonds: { bondQuote },\n        main: {\n            blockchain: { timestamp },\n        },\n    }: RootState,\n    t: TFunction,\n) => {\n    return {\n        interestDue: isNil(bondQuote.interestDue) ? null : `${bondQuote.interestDue.toFixed(2)} BASH`,\n        vesting: timestamp === null || bondQuote.bondMaturationBlock === null ? null : formatTimer(timestamp ?? 0, bondQuote.bondMaturationBlock ?? 0, t),\n        pendingPayout: isNil(bondQuote.pendingPayout) ? null : `${bondQuote.pendingPayout.toFixed(2)} BASH`,\n    };\n};\n\nexport const selectBondMetrics = (state: RootState) => Object.values(state.bonds.bondMetrics);\n\nexport const selectBondItemMetrics = (state: RootState, bondID: string) => state.bonds.bondMetrics[bondID];\n\nexport const selectMostProfitableBonds = createSelector([selectBondMetrics], bonds => {\n    const orderedBonds = bonds.sort((bond1, bond2): number => {\n        if (bond1.bondDiscount === null || bond2.bondDiscount === null) return 0;\n\n        return bond1.bondDiscount > bond2.bondDiscount ? 0 : 1;\n    });\n\n    return orderedBonds;\n});\n\nexport const selectBondsReady = createSelector([selectBondMetrics, useContractLoaded], (bonds, contractLoaded) => {\n    return bonds.length > 0 && contractLoaded;\n});\n\n// refactor\n\nexport const selectBondInstance = (state: RootState, bondId: string) => {\n    const bond = state.bonds.bondInstances[bondId];\n\n    if (!bond) return null;\n\n    return bond;\n};\n\nexport const selectBondMetricsReady = (state: RootState, bondId: string) => {\n    const bondMetrics = state.bonds.bondMetrics[bondId];\n\n    if (!bondMetrics) return false;\n\n    return Object.values(bondMetrics).some(v => v !== null);\n};\n\nexport const selectAllBondMetrics = (state: RootState) => state.bonds.bondMetrics;\n\nexport const selectBondDetailsCalcReady = createSelector([selectAllBondMetrics], bondMetrics => {\n    const ready = Object.values(bondMetrics).some(v => v.bondPrice !== null);\n\n    return ready;\n});\n\nexport const selectFormattedTreasuryBalance = createSelector([selectAllBondMetrics], metrics => {\n    const total = sum(\n        Object.values(metrics)\n            .map(m => m.treasuryBalance)\n            .filter(Number),\n    );\n\n    return formatUSD(total, 2);\n});\n\nexport const selectTreasuryReady = createSelector([selectAllBondMetrics], bondMetrics => {\n    return Object.entries(bondMetrics)\n        .map(([, bond]) => bond.treasuryBalance)\n        .some(balance => balance !== null);\n});\n\nconst selectCoreMetrics = (state: RootState) => state.bonds.coreMetrics;\n\nexport const selectFormattedBondCoreMetrics = createSelector([selectCoreMetrics, selectIndex], ({ rfv, runway }, currentIndex) => {\n    const indexInGwei = new Decimal((currentIndex ?? 0).toString()).div(10 ** 9);\n    const rfvBASH = new Decimal(rfv).mul(indexInGwei).toNumber();\n\n    return {\n        rfv: formatUSD(rfv),\n        rfvBASH: formatUSD(rfvBASH),\n        runway: new Decimal(runway).toFixed(1),\n    };\n});\n\nexport const selectAllActiveBondsIds = createSelector([selectAllBonds], ({ activeBonds }) => Object.values(activeBonds).map(({ ID }) => ID));\n","import { Box } from '@mui/material';\nimport CircularProgress from '@mui/material/CircularProgress';\n\nfunction Loader() {\n    return (\n        <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100%' }}>\n            <CircularProgress size={120} />\n        </Box>\n    );\n}\n\nexport default Loader;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { ethers } from 'ethers';\n\nimport { IReduxState } from 'store/slices/state.interface';\n\nimport { AccountSlice } from './account.types';\n\nexport const loadBalancesAndAllowances = createAsyncThunk(\n    'account/loadBalancesAndAllowances',\n    async (address: string, { getState }): Promise<Pick<AccountSlice, 'balances' | 'stakingAllowance'>> => {\n        if (!address) throw new Error('Missing address');\n\n        let BASHbalance = ethers.BigNumber.from(0);\n        let sBASHBalance = ethers.BigNumber.from(0);\n        const wsBASHBalance = ethers.BigNumber.from(0);\n        let stakeAllowance = ethers.BigNumber.from(0);\n        let unstakeAllowance = ethers.BigNumber.from(0);\n        let wrapAllowance = ethers.BigNumber.from(0);\n\n        const {\n            main: {\n                contracts: { BASH_CONTRACT, SBASH_CONTRACT, STAKING_CONTRACT, STAKING_HELPER_CONTRACT },\n            },\n        } = getState() as IReduxState;\n\n        if (BASH_CONTRACT && STAKING_HELPER_CONTRACT) {\n            BASHbalance = await BASH_CONTRACT.balanceOf(address);\n\n            stakeAllowance = await BASH_CONTRACT.allowance(address, STAKING_HELPER_CONTRACT.address);\n\n            // disable: redeemAllowance = await sbContract.allowance(address, addresses.REDEEM_ADDRESS);\n        }\n\n        if (SBASH_CONTRACT && STAKING_CONTRACT) {\n            unstakeAllowance = await SBASH_CONTRACT.allowance(address, STAKING_CONTRACT.address);\n            sBASHBalance = await SBASH_CONTRACT.balanceOf(address);\n            wrapAllowance = await SBASH_CONTRACT.allowance(address, STAKING_CONTRACT.address);\n        }\n\n        return {\n            balances: {\n                WSBASH: wsBASHBalance,\n                SBASH: sBASHBalance,\n                BASH: BASHbalance,\n            },\n\n            stakingAllowance: {\n                BASH: stakeAllowance,\n                SBASH: unstakeAllowance,\n                WSBASH: wrapAllowance,\n            },\n        };\n    },\n);\n","import axios from 'axios';\nimport { Dictionary, mapValues } from 'lodash';\n\nconst COINGECKO_ENDPOINT_URL = 'https://api.coingecko.com/api/v3/simple/price?vs_currencies=usd&ids=';\n\nexport const getTokensPrice = async (tokens: string[]): Promise<Dictionary<number>> => {\n    const url = COINGECKO_ENDPOINT_URL + [tokens].join(',');\n\n    const { data } = await axios.get<{ [key: string]: { usd: number } }>(url, { timeout: 5000 });\n\n    return mapValues(data, 'usd'); // { \"<token1>\": <price>, ...}\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { isEmpty } from 'lodash';\n\nimport { ActiveTokensEnum, ACTIVE_TOKENS } from 'config/tokens';\nimport { getTokensPrice } from 'lib/coingecko/get-prices';\n\nexport const getMarketPrices = createAsyncThunk('app/markets', async () => {\n    const prices = await getTokensPrice(ACTIVE_TOKENS);\n\n    if (isEmpty(prices)) throw new Error('Unable to get token prices');\n\n    return prices as { [key in ActiveTokensEnum]: number };\n});\n","import { createSelector } from 'reselect';\n\nimport { IReduxState } from 'store/slices/state.interface';\n\nimport { TransactionTypeEnum } from './transactions.type';\n\nexport const selectPendingTransactions = (state: IReduxState) => state.transactions.filter(tx => tx.status === 'PENDING');\n\nexport const selectStakingPending = createSelector([selectPendingTransactions], transactions => {\n    return transactions.some(({ type }) => type === TransactionTypeEnum.BASH_APPROVAL || type === TransactionTypeEnum.STAKE_PENDING);\n});\n\nexport const selectUnStakingPending = createSelector([selectPendingTransactions], transactions => {\n    return transactions.some(({ type }) => type === TransactionTypeEnum.SBASH_APPROVAL || type === TransactionTypeEnum.UNSTAKE_PENDING);\n});\n\nexport const selectIsRedeeming = createSelector([selectPendingTransactions], transactions => {\n    return transactions.some(({ type }) => type === TransactionTypeEnum.REDEEMING);\n});\n\nexport const selectIsRedeemingAndAutoStaking = createSelector([selectPendingTransactions], transactions => {\n    return transactions.some(({ type }) => type === TransactionTypeEnum.REDEEMING_STAKING);\n});\n\nexport const selectWrappingPending = createSelector([selectPendingTransactions], transactions => {\n    return transactions.some(({ type }) => type === TransactionTypeEnum.WRAPPING);\n});\n","import Decimal from 'decimal.js';\nimport { ethers } from 'ethers';\nimport { createSelector } from 'reselect';\n\nimport { formatNumber, formatUSDFromDecimal } from 'helpers/price-units';\nimport { RootState } from 'store/store';\n\nimport { selectSBASHBalance, selectWSBASHBalance } from '../account/account.selectors';\nimport { selectMarketPrice } from '../markets/markets.selectors';\n\nexport const selectIndex = (state: RootState) => state.main.staking.index;\n\nexport const selectFormattedIndex = (state: RootState): string | null => {\n    const { index } = state.main.staking;\n\n    if (!index) return null;\n\n    const formattedIndex = Number(ethers.utils.formatUnits(index, 'gwei'));\n\n    return `${formatNumber(formattedIndex, 2)} BASH`;\n};\n\n// Could be refactored\nexport const selectRawCircSupply = (state: RootState) => state.main.metrics.rawCircSupply;\n\nexport const selectStakingReward = (state: RootState) => state.main.staking.epoch?.distribute || null;\nexport const selectStakingRebaseAmount = createSelector([selectStakingReward, selectRawCircSupply], (stakingReward, rawCircSupply) => {\n    if (!rawCircSupply || !stakingReward) return null;\n\n    return new Decimal(stakingReward.toString()).div(new Decimal(rawCircSupply.toString())); // rewardYield rate for this epoch\n});\n\nexport const selectStakingBalance = createSelector(\n    [selectWSBASHBalance, selectIndex, selectStakingRebaseAmount, selectMarketPrice, selectSBASHBalance],\n    (WSBASHBalance, index, stakingRebaseAmount, marketPrice, SBASHBalance) => {\n        const nextRewardValue = (stakingRebaseAmount ?? new Decimal(0)).mul(SBASHBalance);\n        const wrappedTokenEquivalent = WSBASHBalance.mul(new Decimal((index ?? 0).toString()));\n\n        const effectiveNextRewardValue = nextRewardValue.add((stakingRebaseAmount ?? new Decimal(0).div(10 ** 9) ?? new Decimal(0)).mul(wrappedTokenEquivalent));\n\n        return {\n            nextRewardValue: formatUSDFromDecimal(nextRewardValue.mul(marketPrice)),\n            wrappedTokenValue: formatUSDFromDecimal(wrappedTokenEquivalent.mul((index ?? 0).toString()).mul(marketPrice), 2),\n            effectiveNextRewardValue: formatUSDFromDecimal(effectiveNextRewardValue, 2),\n        };\n    },\n);\n","import Decimal from 'decimal.js';\nimport { createSelector } from 'reselect';\n\nimport { formatUSDFromDecimal } from 'helpers/price-units';\nimport { RootState } from 'store/store';\n\nimport { selectBASHBalance } from '../account/account.selectors';\nimport { selectReserve } from '../app/app.selectors';\n\nexport const selectFormattedBashBalance = (state: RootState): string | null => {\n    const { dai } = state.markets.markets;\n    const balance = selectBASHBalance(state);\n\n    if (!dai) return null;\n\n    return formatUSDFromDecimal(balance.mul(dai), 2);\n};\n\nexport const selectMarketsLoading = (state: RootState): boolean => {\n    const { loading } = state.markets;\n\n    return loading;\n};\n\nexport const selectDaiPrice = (state: RootState): Decimal => {\n    return new Decimal(state.markets.markets.dai ?? 0);\n};\n\nexport const selectMarketPrice = createSelector([selectReserve, selectDaiPrice], (reserve, dai) => reserve.mul(dai));\n\n// converted marketPrice from wei\nexport const selectComputedMarketPrice = createSelector([selectMarketPrice], marketPrice => marketPrice.div(10 ** 9));\n","import { darkScrollbar } from '@mui/material';\nimport { grey } from '@mui/material/colors';\nimport { createTheme } from '@mui/material/styles';\n\nexport const theme = createTheme({\n    palette: {\n        mode: 'dark',\n        primary: {\n            main: grey.A100,\n        },\n        secondary: {\n            main: grey[500],\n        },\n        cardBackground: {\n            main: 'rgba(0,1,40,.5)',\n            dark: 'rgba(0, 1, 40, 0.9)',\n            light: 'rgba(5,8,24,0.77)',\n        },\n    },\n    components: {\n        MuiCssBaseline: {\n            styleOverrides: {\n                body: darkScrollbar(),\n            },\n        },\n        MuiButton: {\n            styleOverrides: {\n                root: {\n                    '&.MuiButton-root': {\n                        background: '#C3F53C',\n                        color: 'rgba(0, 1, 40, 0.9)',\n                        width: '100%',\n                        height: '100%',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        margin: 0,\n                        borderRadius: 0,\n                    },\n                    '&.MuiButton-root.Mui-disabled': {\n                        color: grey[500],\n                    },\n                },\n            },\n        },\n        MuiSkeleton: {\n            styleOverrides: {\n                root: {\n                    '&.MuiSkeleton-root': {\n                        background: '#2d2f3ac2',\n                    },\n                },\n            },\n        },\n        MuiTab: {\n            styleOverrides: {\n                root: {\n                    '&.MuiTab-root': {\n                        color: grey.A100,\n                    },\n                },\n            },\n        },\n        MuiPaper: {\n            styleOverrides: {\n                root: {\n                    '&.MuiPaper-root': {\n                        borderRight: 'none',\n                    },\n                },\n            },\n        },\n    },\n});\n","export const TOKEN_DECIMALS = 9;\n\nexport enum Networks {\n    MAINNET = 1,\n    RINKEBY = 4,\n    LOCAL = 1337,\n}\n\nexport function getDefaultNetwork(): Networks {\n    const networkId: string | undefined = process.env.REACT_APP_DEFAULT_NETWORK_ID;\n\n    if (!networkId) {\n        throw new Error('Network ID not defined');\n    }\n\n    return parseInt(networkId);\n}\n\nexport const DEFAULT_NETWORK = getDefaultNetwork();\n","import { TFunction } from 'i18next';\nimport { DateTime } from 'luxon';\n\nexport const formatTimer = (startDate: number, endDate: number, translator: TFunction): string | null => {\n    if (startDate > endDate) return null;\n\n    const { days, hours, minutes } = DateTime.fromSeconds(endDate).diff(DateTime.fromSeconds(startDate), ['days', 'hours', 'minute']);\n\n    const translations = [];\n\n    if (days) translations.push(translator('day', { count: days }));\n\n    translations.push(translator('hour', { count: hours }));\n    translations.push(translator('min', { count: Math.round(minutes) }));\n\n    return [translator('approximativaly'), ...translations].join(' ');\n};\n","import i18n, { use } from 'i18next';\nimport { initReactI18next } from 'react-i18next';\n\nimport bondEN from './locales/en/bond.json';\nimport commonEN from './locales/en/common.json';\nimport globeEN from './locales/en/globe.json';\nimport redeemEN from './locales/en/redeem.json';\nimport stakeEN from './locales/en/stake.json';\nimport wrapEN from './locales/en/wrap.json';\nimport commonIT from './locales/it/common.json';\n\nconst resources = {\n    en: {\n        common: commonEN,\n        bond: bondEN,\n        globe: globeEN,\n        stake: stakeEN,\n        wrap: wrapEN,\n        redeem: redeemEN,\n    },\n    it: {\n        common: commonIT,\n    },\n};\n\nuse(initReactI18next) // passes i18n down to react-i18next\n    .init({\n        ns: ['common', 'bond', 'globe', 'stake'],\n        fallbackLng: 'en',\n        lng: 'en',\n        debug: false,\n        interpolation: {\n            escapeValue: false, // react already safes from xss\n        },\n        resources,\n    });\n\nexport default i18n;\n","import { Contract, ethers } from 'ethers';\n\nexport enum ContractEnum {\n    BASH_CONTRACT = 'BASH_CONTRACT',\n    SBASH_CONTRACT = 'SBASH_CONTRACT',\n    WSBASH_CONTRACT = 'WSBASH_CONTRACT',\n    DAI_CONTRACT = 'DAI_CONTRACT',\n    STAKING_CONTRACT = 'STAKING_CONTRACT',\n    STAKING_HELPER_CONTRACT = 'STAKING_HELPER_CONTRACT',\n    BASH_DAI_LP_CONTRACT = 'BASH_DAI_LP_CONTRACT',\n    REDEEM_CONTRACT = 'REDEEM_CONTRACT',\n    ZAPING_CONTRACT = 'ZAPING_CONTRACT',\n}\n\nexport interface Epoch {\n    distribute: ethers.BigNumber;\n    endTime: number;\n    number: ethers.BigNumber;\n}\n\nexport interface MainSliceState {\n    contracts: { [key in ContractEnum]: Contract | null };\n    contractsLoaded: boolean;\n    metrics: {\n        totalSupply: number | null;\n        circSupply: number | null;\n        rawCircSupply: ethers.BigNumber | null;\n        reserves: ethers.BigNumber | null;\n        loading: boolean;\n    };\n    staking: {\n        epoch: Epoch | null;\n        secondsToNextEpoch: number | null;\n        index: ethers.BigNumber | null;\n        loading: boolean;\n    };\n    blockchain: {\n        currentBlock: number | null;\n        timestamp: number | null;\n        loading: boolean;\n    };\n    errorEncountered: boolean; // Flag to prevent page loading\n    loading: boolean;\n}\n","export { abi as StableBondContract } from './bonds/StableContract.json';\nexport { abi as LpBondContract } from './bonds/LpContract.json';\nexport { abi as WavaxBondContract } from './bonds/WavaxContract.json';\n\nexport { abi as StableReserveContract } from './reserves/StableContract.json';\nexport { abi as LpReserveContract } from './reserves/LpContract.json';\n\nexport { abi as MemoTokenContract } from './tokens/MemoContract.json';\nexport { abi as TimeTokenContract } from './tokens/TimeContract.json';\nexport { abi as MimTokenContract } from './tokens/MimContract.json';\n\nexport { abi as BondingCalcContract } from './BondingCalcContract.json';\nexport { abi as WrappingContract } from './WrappingContract.json';\nexport { abi as StakingContract } from './StakingContract.json';\nexport { abi as StakingHelperContract } from './StakingHelperContract.json';\nexport { abi as TreasuryContract } from './TreasuryContract.json';\nexport { abi as ZapinContract } from './ZapinContract.json';\nexport { abi as TraderZapinContract } from './TraderZapinContract.json';\nexport { abi as RedeemContract } from './Redeem.json';\n","import { forwardRef, RefObject, useState } from 'react';\n\nimport CloseIcon from '@mui/icons-material/Close';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport { Box, Snackbar, Alert, Accordion, AccordionDetails, AccordionSummary, Typography } from '@mui/material';\n\nimport { theme } from 'constants/theme';\nimport { Message } from 'store/modules/messages/messages.types';\n\nexport const BSnackBar = forwardRef<RefObject<HTMLDivElement>, Message>(({ severity, description, detailledDescription }, ref) => {\n    const [snackbarOpen, setSnackbarOpen] = useState(true);\n\n    const handleClose = () => {\n        setSnackbarOpen(false);\n    };\n\n    const hasDetailledDescription = !!detailledDescription;\n\n    const expendIcon = hasDetailledDescription ? <ExpandMoreIcon /> : undefined;\n\n    const MessageDetails = hasDetailledDescription ? (\n        <AccordionDetails sx={{ overflow: 'hidden' }}>\n            <Typography sx={{ overflow: 'hidden' }} variant=\"body1\" paragraph noWrap>\n                {detailledDescription}\n            </Typography>\n        </AccordionDetails>\n    ) : (\n        <></>\n    );\n\n    return (\n        <Box ref={ref} sx={{ paddingLeft: theme.spacing(2), paddingRight: theme.spacing(2) }}>\n            <Snackbar open={snackbarOpen} sx={{ position: 'relative' }}>\n                <Alert variant=\"filled\" severity={severity} sx={{ paddingLeft: theme.spacing(2), paddingRight: theme.spacing(2), alignItems: 'center' }}>\n                    <Accordion\n                        sx={{\n                            boxShadow: 'none',\n                            background: 'transparent',\n                        }}\n                    >\n                        <AccordionSummary\n                            sx={{\n                                borderBottom: hasDetailledDescription ? '1px solid' : 'none',\n                            }}\n                            expandIcon={expendIcon}\n                            aria-controls=\"panel1a-content\"\n                            id=\"panel1a-header\"\n                        >\n                            <Box onClick={handleClose}>\n                                <CloseIcon color=\"primary\" />\n                            </Box>\n                            <Typography>{description}</Typography>\n                        </AccordionSummary>\n                        {MessageDetails}\n                    </Accordion>\n                </Alert>\n            </Snackbar>\n        </Box>\n    );\n});\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from 'react';\n\ninterface Props {\n    children: any;\n}\n\ninterface State {\n    error: Error | null;\n    errorInfo: any;\n}\n\nexport class ErrorBoundary extends React.Component<Props, State> {\n    constructor(props: any) {\n        super(props);\n        this.state = { error: null, errorInfo: null };\n    }\n\n    componentDidCatch(error: Error, errorInfo: unknown) {\n        this.setState({\n            error: error,\n            errorInfo: errorInfo,\n        });\n    }\n\n    render() {\n        if (this.state.error) {\n            return (\n                <div>\n                    <h2>Something went wrong. Please report this to admins</h2>\n                    <details style={{ whiteSpace: 'pre-wrap' }}>\n                        {this.state.error && this.state.error.toString()}\n                        <br />\n                        {this.state.error.stack}\n                        {this.state.errorInfo.componentStack}\n                    </details>\n                </div>\n            );\n        }\n\n        return this.props.children;\n    }\n}\n","export default __webpack_public_path__ + \"static/media/bash.00caddaf.png\";","export default __webpack_public_path__ + \"static/media/sBASH.a011761c.png\";","export const getBuyLink = (inputCurrency: string, outputCurrency: string) => `https://app.uniswap.org/#/swap&inputCurrency=${inputCurrency}&outputCurrency=${outputCurrency}`;\n","import React, { useState } from 'react';\n\nimport { Box, Button, Divider, Link, Fade, Popper, Typography } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\n\nimport BASH_IMG from 'assets/tokens/bash.png';\nimport SBASH_IMG from 'assets/tokens/sBASH.png';\nimport { theme } from 'constants/theme';\nimport { useWeb3Context } from 'contexts/web3/web3.context';\nimport { useSignerConnected } from 'contexts/web3/web3.hooks';\nimport { getBuyLink } from 'lib/uniswap/link';\n\nimport { DEFAULT_NETWORK, getAddresses, TOKEN_DECIMALS } from '../../../constants';\n\nconst addTokenToWallet = (tokenSymbol: string, tokenAddress: string, tokenImagePath: string) => async () => {\n    if (window.ethereum) {\n        await window.ethereum.request({\n            method: 'wallet_watchAsset',\n            params: {\n                type: 'ERC20',\n                options: {\n                    address: tokenAddress,\n                    symbol: tokenSymbol,\n                    decimals: TOKEN_DECIMALS,\n                    image: [window.location.origin, tokenImagePath].join('/'),\n                },\n            },\n        });\n    }\n};\n\nfunction AtbashMenu() {\n    const { t } = useTranslation();\n\n    const isUserSigned = useSignerConnected();\n    const [anchorEl, setAnchorEl] = useState<Element | null>(null);\n\n    const {\n        state: { networkID },\n    } = useWeb3Context();\n\n    if (!networkID || networkID !== DEFAULT_NETWORK) return null;\n\n    const addresses = getAddresses(networkID);\n\n    const SBASH_ADDRESS = addresses.SBASH_ADDRESS;\n    const BASH_ADDRESS = addresses.BASH_ADDRESS;\n    const DAI_ADDRESS = addresses.DAI_ADDRESS;\n\n    const handleClick = (event: React.MouseEvent) => {\n        setAnchorEl(anchorEl ? null : event.currentTarget);\n    };\n\n    const open = Boolean(anchorEl);\n    const id = open ? 'menu-popover' : undefined;\n\n    return (\n        <Box mr={1}>\n            <Button sx={{ padding: theme.spacing(1) }} aria-describedby={id} onClick={e => handleClick(e)}>\n                <Typography>\n                    <>{t('BuyBASH')}</>\n                </Typography>\n            </Button>\n\n            <Popper id={id} open={open} anchorEl={anchorEl} transition>\n                {({ TransitionProps }) => (\n                    <Fade {...TransitionProps} timeout={200}>\n                        <Box sx={{ background: theme.palette.cardBackground.light, padding: theme.spacing(2) }}>\n                            <Link href={getBuyLink(DAI_ADDRESS, BASH_ADDRESS)} component={Typography} target=\"_blank\">\n                                <>{t('BuyOnUniswap')}</>\n                            </Link>\n\n                            {isUserSigned && (\n                                <Box sx={{ color: theme.palette.primary.light }}>\n                                    <Typography>\n                                        <>{t('AddTokenToWallet')}</>\n                                    </Typography>\n                                    <Divider />\n                                    <Typography sx={{ cursor: 'pointer' }} onClick={addTokenToWallet('BASH', BASH_ADDRESS, BASH_IMG)}>\n                                        ↑ BASH\n                                    </Typography>\n                                    <Typography sx={{ cursor: 'pointer' }} onClick={() => addTokenToWallet('sBASH', SBASH_ADDRESS, SBASH_IMG)}>\n                                        ↑ sBASH\n                                    </Typography>\n                                </Box>\n                            )}\n                        </Box>\n                    </Fade>\n                )}\n            </Popper>\n        </Box>\n    );\n}\n\nexport default AtbashMenu;\n","import { useCallback, useContext, useEffect, useState } from 'react';\n\nimport { Box, Button } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\n\nimport { theme } from 'constants/theme';\nimport { Web3Context } from 'contexts/web3/web3.context';\nimport { useSignerConnected, useGoodNetworkCheck } from 'contexts/web3/web3.hooks';\nimport { selectPendingTransactions } from 'store/modules/transactions/transactions.selectors';\n\nfunction ConnectMenu() {\n    const { t } = useTranslation();\n    const { memoConnect, memoDisconnect, state } = useContext(Web3Context);\n\n    const isUserSigned = useSignerConnected();\n\n    const isUserOnGoodNetwork = useGoodNetworkCheck();\n\n    const pendingTransactions = useSelector(selectPendingTransactions);\n\n    const handleButtonClick = useCallback(() => {\n        return isUserSigned ? memoDisconnect(state.signer) : memoConnect();\n    }, [isUserSigned, memoConnect, memoDisconnect]);\n\n    const [buttonText, setButtonText] = useState(t('ConnectWallet'));\n\n    useEffect(() => {\n        if (isUserSigned) {\n            if (!isUserOnGoodNetwork) {\n                setButtonText(t('WrongNetwork'));\n            } else if (pendingTransactions.length > 0) {\n                setButtonText(t('CountPending', { count: pendingTransactions.length })); // Ususally user can't have more than 1\n            } else {\n                setButtonText(t('Disconnect'));\n            }\n        }\n    }, [isUserSigned, pendingTransactions, isUserOnGoodNetwork]);\n\n    return (\n        <Box>\n            <Button\n                sx={{\n                    background: isUserSigned && !isUserOnGoodNetwork ? 'red !important' : 'rgba(255, 255, 255, 0.9)',\n                    boxShadow: '0px 0px 10px rgba(44, 39, 109, 0.1)',\n                    padding: theme.spacing(1),\n                }}\n                onClick={handleButtonClick}\n            >\n                <>{buttonText}</>\n            </Button>\n        </Box>\n    );\n}\n\nexport default ConnectMenu;\n","import MenuIcon from '@mui/icons-material/Menu';\nimport { AppBar, Box, IconButton, Toolbar } from '@mui/material';\n\nimport { theme } from 'constants/theme';\n\nimport AtbashMenu from './atbash-menu';\nimport ConnectButton from './connect-button';\n\ninterface IHeader {\n    handleDrawerToggle: () => void;\n    isSmallScreen: boolean;\n}\n\nfunction Header({ handleDrawerToggle, isSmallScreen }: IHeader) {\n    return (\n        <Box sx={{ flexGrow: 1 }}>\n            <AppBar\n                color=\"transparent\"\n                position=\"sticky\"\n                sx={{\n                    background: 'transparent',\n                    border: 'none',\n                    boxShadow: 'none',\n                    position: 'relative',\n                    zIndex: theme.zIndex.drawer + 1,\n                }}\n            >\n                <Toolbar\n                    sx={{\n                        background: 'transparent',\n                    }}\n                >\n                    {isSmallScreen && (\n                        <IconButton onClick={handleDrawerToggle} size=\"large\" edge=\"start\" color=\"inherit\" aria-label=\"menu\" sx={{ mr: 2 }}>\n                            <MenuIcon />\n                        </IconButton>\n                    )}\n                    <Box sx={{ flexGrow: 1 }}></Box>\n                    <AtbashMenu />\n                    <ConnectButton />\n                </Toolbar>\n            </AppBar>\n        </Box>\n    );\n}\n\nexport default Header;\n","import { RootState } from 'store/store';\n\nexport const selectLastNotification = (state: RootState) => state.messages.notifications.slice(-1)[0];\n","import { useEffect } from 'react';\n\nimport { SnackbarKey, useSnackbar } from 'notistack';\nimport { useSelector } from 'react-redux';\n\nimport { selectLastNotification } from 'store/modules/messages/messages.selectors';\n\nimport { BSnackBar } from './snackbar';\n\n// A component that displays error messages\nfunction Messages() {\n    const { enqueueSnackbar } = useSnackbar();\n    const lastNotification = useSelector(selectLastNotification);\n\n    useEffect(() => {\n        if (lastNotification) {\n            enqueueSnackbar('notification', {\n                variant: lastNotification.severity,\n                content: (key: SnackbarKey) => {\n                    return (\n                        <BSnackBar\n                            key={key}\n                            description={lastNotification.description}\n                            severity={lastNotification.severity}\n                            detailledDescription={JSON.stringify(lastNotification.detailledDescription)}\n                        />\n                    );\n                },\n            });\n        }\n    }, [lastNotification]);\n\n    return null;\n}\n\nexport default Messages;\n","export default __webpack_public_path__ + \"static/media/bash-compress.72bf0e8a.svg\";","import { useEffect, useState } from 'react';\n\nimport { utils } from 'ethers';\n\nimport { useWeb3Context } from 'contexts/web3/web3.context';\n\nconst useENS = () => {\n    const [ensName, setENSName] = useState<string | null>(null);\n\n    const {\n        state: { provider, signerAddress },\n    } = useWeb3Context();\n\n    useEffect(() => {\n        const resolveENS = async () => {\n            if (signerAddress && provider && utils.isAddress(signerAddress)) {\n                const name = await provider.lookupAddress(signerAddress);\n                setENSName(name);\n            }\n        };\n        resolveENS();\n    }, [provider, signerAddress]);\n\n    return { ensName };\n};\n\nexport default useENS;\n","import { ReactElement, useMemo, forwardRef } from 'react';\n\nimport { ListItemButton, ListItemIcon, ListItemText } from '@mui/material';\nimport { Link as RouterLink, LinkProps as RouterLinkProps } from 'react-router-dom';\n\nimport { theme } from 'constants/theme';\n\ninterface ListItemLinkProps {\n    icon?: ReactElement;\n    primary: string;\n    to: string;\n    disabled?: boolean;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    renderComponent?: any;\n    extra?: JSX.Element;\n}\n\nexport const ListItemLink = ({ icon, primary, extra, to, disabled = false, renderComponent }: ListItemLinkProps) => {\n    const renderLink = useMemo(\n        () =>\n            forwardRef<HTMLAnchorElement, Omit<RouterLinkProps, 'to'>>(function Link(itemProps, ref) {\n                return <RouterLink to={to} ref={ref} {...itemProps} role={undefined} onClick={() => null} />; // overrides routerOnClick to avoid redirection\n            }),\n        [to],\n    );\n\n    return (\n        <li key={`route-${to}`}>\n            <ListItemButton disabled={disabled} component={renderComponent ?? renderLink}>\n                {icon ? <ListItemIcon sx={{ color: theme.palette.primary.main }}>{icon}</ListItemIcon> : null}\n                <ListItemText primary={primary} />\n                <> {extra}</>\n            </ListItemButton>\n        </li>\n    );\n};\n","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDiscord(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: \"20pt\",\n    height: \"20pt\",\n    viewBox: \"0 0 20 20\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"surface1\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      stroke: \"none\",\n      fillRule: \"nonzero\",\n      fill: \"rgb(100%,100%,100%)\",\n      fillOpacity: 1\n    },\n    d: \"M 16.929688 3.742188 C 15.65625 3.167969 14.289062 2.742188 12.859375 2.5 C 12.847656 2.5 12.835938 2.5 12.824219 2.507812 C 12.808594 2.511719 12.800781 2.519531 12.792969 2.53125 C 12.621094 2.839844 12.425781 3.238281 12.289062 3.558594 C 10.773438 3.332031 9.230469 3.332031 7.714844 3.558594 C 7.5625 3.207031 7.390625 2.863281 7.199219 2.53125 C 7.195312 2.519531 7.183594 2.511719 7.171875 2.503906 C 7.160156 2.5 7.148438 2.496094 7.136719 2.5 C 5.707031 2.742188 4.339844 3.167969 3.0625 3.742188 C 3.054688 3.746094 3.042969 3.753906 3.039062 3.765625 C 0.445312 7.578125 -0.265625 11.296875 0.0820312 14.96875 C 0.0820312 14.976562 0.0859375 14.984375 0.0898438 14.992188 C 0.09375 15 0.101562 15.007812 0.109375 15.011719 C 1.621094 16.117188 3.308594 16.953125 5.101562 17.496094 C 5.113281 17.5 5.128906 17.5 5.140625 17.496094 C 5.152344 17.492188 5.164062 17.484375 5.171875 17.476562 C 5.558594 16.957031 5.902344 16.414062 6.195312 15.839844 C 6.210938 15.804688 6.195312 15.765625 6.160156 15.753906 C 5.621094 15.550781 5.101562 15.304688 4.601562 15.019531 C 4.589844 15.015625 4.582031 15.007812 4.578125 15 C 4.574219 14.992188 4.570312 14.980469 4.570312 14.96875 C 4.566406 14.960938 4.570312 14.949219 4.574219 14.941406 C 4.578125 14.929688 4.585938 14.921875 4.59375 14.917969 C 4.699219 14.839844 4.804688 14.757812 4.902344 14.675781 C 4.914062 14.671875 4.921875 14.664062 4.933594 14.664062 C 4.945312 14.664062 4.957031 14.664062 4.96875 14.667969 C 8.242188 16.140625 11.785156 16.140625 15.019531 14.667969 C 15.03125 14.664062 15.042969 14.664062 15.054688 14.664062 C 15.066406 14.664062 15.074219 14.667969 15.085938 14.675781 C 15.183594 14.757812 15.289062 14.839844 15.394531 14.917969 C 15.402344 14.921875 15.410156 14.929688 15.414062 14.941406 C 15.417969 14.949219 15.421875 14.960938 15.421875 14.96875 C 15.421875 14.980469 15.417969 14.992188 15.410156 15 C 15.40625 15.007812 15.398438 15.015625 15.390625 15.019531 C 14.890625 15.308594 14.375 15.550781 13.828125 15.75 C 13.820312 15.753906 13.8125 15.757812 13.808594 15.765625 C 13.800781 15.773438 13.796875 15.78125 13.792969 15.789062 C 13.789062 15.796875 13.789062 15.804688 13.789062 15.8125 C 13.789062 15.824219 13.789062 15.832031 13.796875 15.839844 C 14.09375 16.410156 14.4375 16.957031 14.816406 17.472656 C 14.824219 17.484375 14.835938 17.492188 14.847656 17.496094 C 14.859375 17.5 14.875 17.5 14.886719 17.496094 C 16.679688 16.957031 18.371094 16.117188 19.886719 15.011719 C 19.894531 15.007812 19.902344 15 19.90625 14.992188 C 19.910156 14.984375 19.914062 14.976562 19.914062 14.96875 C 20.332031 10.722656 19.214844 7.035156 16.957031 3.765625 C 16.949219 3.757812 16.941406 3.746094 16.929688 3.742188 Z M 6.683594 12.730469 C 5.699219 12.730469 4.886719 11.839844 4.886719 10.75 C 4.886719 9.65625 5.683594 8.765625 6.683594 8.765625 C 7.691406 8.765625 8.496094 9.664062 8.480469 10.75 C 8.480469 11.839844 7.683594 12.730469 6.683594 12.730469 Z M 13.328125 12.730469 C 12.34375 12.730469 11.53125 11.839844 11.53125 10.75 C 11.53125 9.65625 12.328125 8.765625 13.328125 8.765625 C 14.335938 8.765625 15.140625 9.664062 15.125 10.75 C 15.125 11.839844 14.339844 12.730469 13.328125 12.730469 Z M 13.328125 12.730469 \"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDiscord);\nexport default __webpack_public_path__ + \"static/media/discord.d78c1d63.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDocs(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#fff\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 30 30\",\n    width: \"30px\",\n    height: \"30px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.707,7.793l-5.5-5.5C19.019,2.105,18.765,2,18.5,2H7C5.895,2,5,2.895,5,4v22c0,1.105,0.895,2,2,2h16c1.105,0,2-0.895,2-2 V8.5C25,8.235,24.895,7.981,24.707,7.793z M17,23h-7c-0.552,0-1-0.448-1-1s0.448-1,1-1h7c0.552,0,1,0.448,1,1S17.552,23,17,23z M20,19H10c-0.552,0-1-0.448-1-1s0.448-1,1-1h10c0.552,0,1,0.448,1,1S20.552,19,20,19z M20,15H10c-0.552,0-1-0.448-1-1s0.448-1,1-1 h10c0.552,0,1,0.448,1,1S20.552,15,20,15z M19,9c-0.552,0-1-0.448-1-1V3.904L23.096,9H19z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDocs);\nexport default __webpack_public_path__ + \"static/media/docs.d593bebd.svg\";\nexport { ForwardRef as ReactComponent };","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGithub(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: \"20pt\",\n    height: \"20pt\",\n    viewBox: \"0 0 20 20\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"surface1\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      stroke: \"none\",\n      fillRule: \"nonzero\",\n      fill: \"rgb(100%,100%,100%)\",\n      fillOpacity: 1\n    },\n    d: \"M 18.609375 6.992188 C 18.609375 8.164062 18.449219 9.167969 18.125 10 C 17.800781 10.832031 17.332031 11.472656 16.714844 11.921875 C 16.09375 12.367188 15.476562 12.691406 14.859375 12.894531 C 14.242188 13.09375 13.519531 13.242188 12.683594 13.332031 C 13.273438 13.828125 13.566406 14.613281 13.566406 15.695312 L 13.566406 19.859375 L 7.128906 19.859375 L 7.128906 16.851562 C 6.636719 16.945312 6.179688 16.992188 5.765625 16.992188 C 5.347656 16.992188 4.992188 16.953125 4.699219 16.875 C 4.40625 16.796875 4.144531 16.699219 3.910156 16.574219 C 3.679688 16.449219 3.496094 16.320312 3.355469 16.179688 C 3.21875 16.042969 3.101562 15.910156 3.007812 15.785156 C 2.917969 15.664062 2.855469 15.554688 2.824219 15.464844 L 2.777344 15.324219 C 2.59375 14.890625 2.382812 14.523438 2.152344 14.214844 C 1.921875 13.90625 1.726562 13.703125 1.574219 13.609375 L 1.34375 13.472656 C 1.003906 13.195312 0.832031 13 0.832031 12.894531 C 0.832031 12.785156 0.941406 12.714844 1.15625 12.683594 L 1.433594 12.683594 C 1.804688 12.714844 2.160156 12.839844 2.5 13.054688 C 2.839844 13.273438 3.070312 13.488281 3.195312 13.703125 L 3.425781 13.980469 C 4.257812 15.433594 5.507812 15.785156 7.175781 15.046875 C 7.269531 14.304688 7.546875 13.734375 8.007812 13.332031 C 7.175781 13.242188 6.449219 13.09375 5.832031 12.894531 C 5.214844 12.691406 4.605469 12.367188 4.003906 11.921875 C 3.402344 11.472656 2.933594 10.832031 2.59375 10 C 2.253906 9.167969 2.082031 8.164062 2.082031 6.992188 C 2.082031 5.664062 2.53125 4.523438 3.425781 3.566406 C 3.023438 2.546875 3.070312 1.40625 3.566406 0.140625 C 3.65625 0.167969 3.78125 0.160156 3.933594 0.117188 C 4.089844 0.0703125 4.476562 0.160156 5.09375 0.394531 C 5.710938 0.625 6.390625 0.988281 7.128906 1.480469 C 8.148438 1.203125 9.226562 1.050781 10.371094 1.019531 C 11.480469 1.050781 12.5625 1.203125 13.609375 1.480469 C 14.320312 0.988281 14.976562 0.632812 15.578125 0.417969 C 16.179688 0.199219 16.589844 0.09375 16.804688 0.09375 L 17.128906 0.140625 C 17.65625 1.40625 17.699219 2.546875 17.269531 3.566406 C 18.164062 4.523438 18.609375 5.664062 18.609375 6.992188 Z M 2.316406 13.265625 C 2.34375 13.1875 2.308594 13.125 2.199219 13.078125 C 2.089844 13.03125 2.023438 13.046875 1.992188 13.125 C 1.960938 13.203125 2 13.265625 2.105469 13.308594 C 2.214844 13.355469 2.285156 13.339844 2.316406 13.265625 Z M 2.847656 13.84375 C 2.925781 13.78125 2.910156 13.695312 2.800781 13.589844 C 2.691406 13.480469 2.601562 13.457031 2.523438 13.519531 C 2.445312 13.582031 2.460938 13.664062 2.570312 13.773438 C 2.675781 13.882812 2.769531 13.90625 2.847656 13.84375 Z M 3.332031 14.582031 C 3.425781 14.523438 3.425781 14.421875 3.332031 14.28125 C 3.242188 14.144531 3.148438 14.105469 3.054688 14.167969 C 2.964844 14.226562 2.964844 14.328125 3.054688 14.46875 C 3.148438 14.605469 3.242188 14.644531 3.332031 14.582031 Z M 4.050781 15.324219 C 4.128906 15.230469 4.105469 15.117188 3.980469 14.976562 C 3.859375 14.839844 3.75 14.816406 3.65625 14.90625 C 3.566406 15 3.589844 15.117188 3.726562 15.253906 C 3.867188 15.394531 3.972656 15.417969 4.050781 15.324219 Z M 5 15.71875 C 5.03125 15.609375 4.960938 15.523438 4.792969 15.464844 C 4.621094 15.402344 4.523438 15.433594 4.492188 15.554688 C 4.460938 15.679688 4.53125 15.765625 4.699219 15.808594 C 4.867188 15.855469 4.96875 15.824219 5 15.71875 Z M 5.785156 15.972656 C 5.972656 15.972656 6.066406 15.910156 6.066406 15.785156 C 6.066406 15.664062 5.972656 15.601562 5.785156 15.601562 C 5.601562 15.601562 5.507812 15.664062 5.507812 15.785156 C 5.507812 15.910156 5.601562 15.972656 5.785156 15.972656 Z M 6.804688 15.878906 C 6.898438 15.847656 6.96875 15.808594 7.015625 15.765625 C 7.058594 15.71875 7.066406 15.679688 7.035156 15.648438 C 7.035156 15.492188 6.945312 15.433594 6.757812 15.464844 C 6.667969 15.492188 6.597656 15.53125 6.550781 15.578125 C 6.503906 15.625 6.496094 15.679688 6.527344 15.742188 C 6.527344 15.863281 6.621094 15.910156 6.804688 15.878906 Z M 6.804688 15.878906 \"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGithub);\nexport default __webpack_public_path__ + \"static/media/github.498e6177.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTelegram(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 29,\n    height: 28,\n    viewBox: \"0 0 29 28\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.9499 2.74L23.8499 23.76C23.6099 24.75 22.4999 25.26 21.5899 24.79L15.1399 21.46L12.0899 26.45C11.2599 27.81 9.15991 27.22 9.15991 25.63V20.07C9.15991 19.64 9.33991 19.23 9.64991 18.93L22.2199 6.93C22.2099 6.78 22.0499 6.65 21.8899 6.76L6.88991 17.2L1.84991 14.6C0.669906 13.99 0.719906 12.28 1.93991 11.75L26.7899 0.920003C27.9799 0.400003 29.2599 1.47 28.9499 2.74Z\",\n    fill: \"white\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTelegram);\nexport default __webpack_public_path__ + \"static/media/telegram.d665785c.svg\";\nexport { ForwardRef as ReactComponent };","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTwitter(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: \"20pt\",\n    height: \"20pt\",\n    viewBox: \"0 0 20 20\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"surface1\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      stroke: \"none\",\n      fillRule: \"nonzero\",\n      fill: \"rgb(100%,100%,100%)\",\n      fillOpacity: 1\n    },\n    d: \"M 19.703125 4.113281 C 19.007812 4.421875 18.257812 4.628906 17.472656 4.726562 C 18.285156 4.238281 18.890625 3.476562 19.179688 2.578125 C 18.417969 3.027344 17.585938 3.347656 16.714844 3.519531 C 16.128906 2.894531 15.355469 2.480469 14.511719 2.339844 C 13.667969 2.203125 12.800781 2.34375 12.046875 2.75 C 11.292969 3.152344 10.695312 3.792969 10.34375 4.574219 C 9.988281 5.351562 9.90625 6.226562 10.101562 7.058594 C 8.554688 6.984375 7.046875 6.582031 5.667969 5.882812 C 4.289062 5.183594 3.074219 4.203125 2.097656 3.003906 C 1.765625 3.578125 1.574219 4.246094 1.574219 4.953125 C 1.574219 5.59375 1.730469 6.222656 2.03125 6.789062 C 2.332031 7.351562 2.769531 7.832031 3.300781 8.1875 C 2.683594 8.167969 2.082031 8 1.542969 7.699219 L 1.542969 7.75 C 1.542969 8.648438 1.851562 9.515625 2.417969 10.210938 C 2.988281 10.902344 3.777344 11.378906 4.65625 11.558594 C 4.085938 11.710938 3.484375 11.734375 2.902344 11.625 C 3.152344 12.394531 3.632812 13.070312 4.285156 13.554688 C 4.933594 14.035156 5.71875 14.304688 6.527344 14.320312 C 5.152344 15.398438 3.457031 15.984375 1.707031 15.980469 C 1.398438 15.980469 1.089844 15.964844 0.78125 15.925781 C 2.554688 17.070312 4.621094 17.675781 6.730469 17.671875 C 13.871094 17.671875 17.777344 11.757812 17.777344 6.625 C 17.777344 6.460938 17.773438 6.292969 17.765625 6.125 C 18.523438 5.574219 19.179688 4.894531 19.699219 4.117188 Z M 19.703125 4.113281 \"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTwitter);\nexport default __webpack_public_path__ + \"static/media/twitter.f6e6e036.svg\";\nexport { ForwardRef as ReactComponent };","import { Box, SvgIcon, Link } from '@mui/material';\n\nimport { ReactComponent as Discord } from 'assets/icons/discord.svg';\nimport { ReactComponent as DocsIcon } from 'assets/icons/docs.svg';\nimport { ReactComponent as GitHub } from 'assets/icons/github.svg';\nimport { ReactComponent as Telegram } from 'assets/icons/telegram.svg';\nimport { ReactComponent as Twitter } from 'assets/icons/twitter.svg';\n\nexport default function Social() {\n    return (\n        <Box sx={{ width: '100%', display: 'flex', justifyContent: 'space-around' }}>\n            <Link href=\"https://github.com/Atbash-Protocol\" target=\"_blank\">\n                <SvgIcon color=\"primary\" component={GitHub} />\n            </Link>\n\n            <Link href=\"https://twitter.com/AtbashProtocol\" target=\"_blank\">\n                <SvgIcon color=\"primary\" component={Twitter} />\n            </Link>\n\n            <Link href=\"https://t.me/joinchat/rlVyL0qVGcI5NWZk\" target=\"_blank\">\n                <SvgIcon viewBox=\"0 0 32 32\" color=\"primary\" component={Telegram} />\n            </Link>\n\n            <Link href=\"https://discord.gg/PWAj2pAUTR\" target=\"_blank\">\n                <SvgIcon color=\"primary\" component={Discord} />\n            </Link>\n\n            <Link href=\"https://docs.atbash.finance/\" target=\"_blank\">\n                <SvgIcon color=\"primary\" component={DocsIcon} />\n            </Link>\n        </Box>\n    );\n}\n","// import Davatar from '@davatar/react';\nimport { useMemo } from 'react';\n\nimport AccountBalanceSharpIcon from '@mui/icons-material/AccountBalanceSharp';\n// Mint\nimport CurrencyExchangeSharpIcon from '@mui/icons-material/CurrencyExchangeSharp';\nimport DashboardIcon from '@mui/icons-material/Dashboard';\n// Forecast\nimport HandymanSharpIcon from '@mui/icons-material/HandymanSharp';\n// Pro\nimport PriceCheckSharpIcon from '@mui/icons-material/PriceCheckSharp';\nimport SelfImprovementSharpIcon from '@mui/icons-material/SelfImprovementSharp';\n// GOV\nimport ShowChartSharpIcon from '@mui/icons-material/ShowChartSharp';\nimport StorefrontIcon from '@mui/icons-material/Storefront';\nimport TableRowsIcon from '@mui/icons-material/TableRows';\nimport { Avatar, Box, Link, List, Divider, Typography } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\n\nimport AtbashICON from 'assets/icons/bash-compress.svg';\nimport { getAddresses } from 'constants/addresses';\nimport { DEFAULT_NETWORK } from 'constants/blockchain';\nimport { theme } from 'constants/theme';\nimport { useSignerAddress, useSignerConnected } from 'contexts/web3/web3.hooks';\nimport { shorten } from 'helpers/shorten';\nimport useENS from 'hooks/useENS';\nimport { getBuyLink } from 'lib/uniswap/link';\nimport { selectBondInstances, selectMostProfitableBonds } from 'store/modules/bonds/bonds.selector';\n\nimport { ListItemLink } from './components/ListItemLink';\nimport Social from './components/Social';\n\nconst getMenuItems = (connected: boolean) => [\n    {\n        path: '/',\n        key: 'Dashboard',\n        icon: <DashboardIcon />,\n        disabled: false,\n    },\n    {\n        path: '/stake',\n        key: 'Stake',\n        icon: <TableRowsIcon />,\n        disabled: connected === false,\n    },\n    {\n        path: '/bonds',\n        key: 'Minting',\n        icon: <HandymanSharpIcon />,\n        disabled: !connected,\n    },\n    {\n        path: '/forecast',\n        key: 'Forecast',\n        icon: <ShowChartSharpIcon />,\n        disabled: !connected,\n    },\n    {\n        path: '/wrap',\n        key: 'Wrap',\n        icon: <CurrencyExchangeSharpIcon />,\n        disabled: !connected,\n    },\n];\n\nconst cominSoonMenu = [\n    {\n        path: '/governance',\n        key: 'Governance',\n        icon: <AccountBalanceSharpIcon />,\n        disabled: true,\n    },\n    {\n        path: '/borrow',\n        key: 'Borrow',\n        icon: <PriceCheckSharpIcon />,\n        disabled: true,\n    },\n    {\n        path: '/redeem',\n        key: 'Redeem',\n        icon: <SelfImprovementSharpIcon />,\n        disabled: true,\n    },\n];\n\nfunction NavContent() {\n    const { t } = useTranslation();\n\n    const address = useSignerAddress();\n    const signerConnected = useSignerConnected();\n    const bonds = useSelector(selectMostProfitableBonds);\n    const bondInstances = useSelector(selectBondInstances);\n    const { ensName } = useENS();\n\n    const addresses = getAddresses(DEFAULT_NETWORK);\n    const BASH_ADDRESS = addresses.BASH_ADDRESS;\n    const DAI_ADDRESS = addresses.DAI_ADDRESS;\n\n    const menuItems = useMemo(\n        () => getMenuItems(signerConnected).map(({ path, key, ...props }) => <ListItemLink key={key} to={path} primary={t(key)} {...props} />),\n        [signerConnected],\n    );\n    const comingSoonItems = cominSoonMenu.map(({ path, key, ...props }) => <ListItemLink key={key} to={path} primary={t(key)} {...props} />);\n\n    const bondItems = bondInstances\n        .filter(bond => bond.bondOptions.isActive)\n        .map(({ ID, bondOptions: { displayName } }, index) => {\n            const bondDiscount = bonds[index].bondDiscount;\n\n            const discount = bondDiscount ? bondDiscount.mul(100).toNumber() : 0;\n\n            return {\n                ID,\n                displayName,\n                discount,\n            };\n        })\n        .sort((bond1, bond2) => (bond1.discount < bond2.discount ? 1 : -1))\n        .map(({ ID, displayName, discount }) => (\n            <ListItemLink\n                key={`mint-bond-${ID}`}\n                to={`/bond/${ID}`}\n                primary={displayName}\n                extra={\n                    <Typography paddingLeft={theme.spacing(2)} variant=\"body2\">\n                        {discount.toFixed(2)} %\n                    </Typography>\n                }\n            />\n        ));\n\n    return (\n        <Box\n            sx={{\n                padding: '2rem',\n                flexDirection: 'column',\n                alignItems: 'center',\n                minWidth: '10rem',\n                overflowY: 'hidden',\n                backgroundColor: theme.palette.cardBackground.light,\n                backdropFilter: 'blur(100px)',\n                color: theme.palette.primary.main,\n                height: '100%',\n            }}\n        >\n            <Box\n                sx={{\n                    flexDirection: 'column',\n                    padding: '1rem',\n                    width: '100%',\n                }}\n            >\n                <Link href=\"https://atbash.finance\" target=\"_blank\">\n                    <Avatar alt=\"Atbash\" src={AtbashICON} sx={{ width: 128, height: 128, textAlign: 'center' }} />\n                </Link>\n\n                {address && (\n                    <Box\n                        sx={{\n                            display: 'inline-flex',\n                            justifyContent: 'center',\n                            alignItems: 'center',\n                            marginTop: theme.spacing(2),\n\n                            width: '100%',\n                        }}\n                    >\n                        {/* <Davatar size={20} address={address} generatedAvatarType=\"jazzicon\" /> */}\n                        <Link href={`https://etherscan.io/address/${address}`} target=\"_blank\">\n                            <Typography sx={{ ml: 1 }} variant=\"body1\">\n                                {ensName || shorten(address)}\n                            </Typography>\n                        </Link>\n                    </Box>\n                )}\n            </Box>\n\n            <Box sx={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(4) }}>\n                <div>\n                    <List\n                        sx={{\n                            color: theme.palette.primary.main,\n                            '& .MuiListItemButton-root:hover': {\n                                textDecoration: 'underline',\n                            },\n                        }}\n                    >\n                        {menuItems}\n                        <Divider />\n                        <Box pt={theme.spacing(2)}>\n                            <Typography variant=\"body2\"> {t('common:MintingDiscounts')}</Typography>\n\n                            {bondItems}\n                        </Box>\n\n                        <Divider />\n                        <ListItemLink to={getBuyLink(BASH_ADDRESS, DAI_ADDRESS)} primary={t('Buy')} renderComponent={Link} icon={<StorefrontIcon />} />\n                        {comingSoonItems}\n                    </List>\n                </div>\n            </Box>\n\n            <Social />\n        </Box>\n    );\n}\n\nexport default NavContent;\n","export const shorten = (str: string): string => {\n    if (str.length < 10) return str;\n\n    return [str.slice(0, 6), str.slice(-4)].join('...');\n};\n","import { Drawer } from '@mui/material';\n\nimport { theme } from 'constants/theme';\nimport { useWeb3ContextInitialized } from 'contexts/web3/web3.hooks';\n\nimport Content from './Content';\n\ninterface INavDrawer {\n    isSidebarOpen: boolean;\n    isSmallScreen: boolean;\n    handleDrawerToggle: () => void;\n}\n\nconst SideBar = ({ isSidebarOpen, isSmallScreen, handleDrawerToggle }: INavDrawer) => {\n    const isAppReady = useWeb3ContextInitialized();\n\n    const variant = isSmallScreen ? (isSidebarOpen ? 'permanent' : 'temporary') : 'permanent';\n\n    return (\n        <Drawer\n            variant={variant}\n            anchor={'left'}\n            open={isSidebarOpen}\n            onClick={isSmallScreen ? handleDrawerToggle : undefined}\n            ModalProps={{\n                keepMounted: true,\n            }}\n            sx={{\n                transition: theme.transitions.create(['background-color', 'transform']),\n            }}\n        >\n            {isAppReady && <Content />}\n        </Drawer>\n    );\n};\nexport { SideBar };\n","export default __webpack_public_path__ + \"static/media/background.95637f19.webp\";","import React, { useState } from 'react';\n\nimport { Box, useMediaQuery } from '@mui/material';\n\nimport Header from 'components/Header';\nimport Messages from 'components/Messages';\nimport { SideBar } from 'components/Sidebar';\nimport { theme } from 'constants/theme';\n\nimport BackgroundImage from '../../assets/background.webp';\n\ninterface IViewBaseProps {\n    children: React.ReactNode;\n}\n\n// const useStyles = makeStyles(theme => ({\n//     drawer: {\n//         [theme.breakpoints.up(\"md\")]: {\n//             width: DRAWER_WIDTH,\n//             flexShrink: 0,\n//         },\n//     },\n//     content: {\n//         padding: theme.spacing(1),\n//         transition: theme.transitions.create(\"margin\", {\n//             easing: theme.transitions.easing.sharp,\n//             duration: TRANSITION_DURATION,\n//         }),\n//         height: \"100%\",\n//         overflow: \"auto\",\n//         marginLeft: DRAWER_WIDTH,\n//     },\n//     contentShift: {\n//         transition: theme.transitions.create(\"margin\", {\n//             easing: theme.transitions.easing.easeOut,\n//             duration: TRANSITION_DURATION,\n//         }),\n//         marginLeft: 0,\n//     },\n// }));\n\nfunction ViewBase({ children }: IViewBaseProps) {\n    const [isSidebarOpen, setisSidebarOpen] = useState(false);\n\n    const isSmallScreen = useMediaQuery(theme.breakpoints.down('sm'));\n\n    const handleDrawerToggle = () => {\n        setisSidebarOpen(!isSidebarOpen);\n    };\n\n    return (\n        <Box\n            sx={{\n                height: '100vh',\n                backgroundImage: `url(${BackgroundImage})`,\n                backgroundRepeat: 'no-repeat',\n                backgroundSize: 'cover',\n                backgroundPositionX: 'center',\n                backgroundPositionY: 'center',\n            }}\n        >\n            <Messages />\n            <Header {...{ handleDrawerToggle, isSmallScreen }} />\n            <Box>\n                <SideBar isSidebarOpen={isSidebarOpen} isSmallScreen={isSmallScreen} handleDrawerToggle={handleDrawerToggle} />\n            </Box>\n            <Box\n                className=\"content\"\n                sx={{\n                    paddingLeft: {\n                        xs: 0,\n                        height: '100%',\n                        sm: theme.spacing(40), //TODO: Use a dynamic drawer\n                    },\n                    maxHeight: '100vh',\n                    overflowY: 'scroll',\n                    paddingBottom: theme.spacing(8),\n                }}\n            >\n                {children}\n            </Box>\n        </Box>\n    );\n}\n\nexport default ViewBase;\n","import { lazy, Suspense } from 'react';\n\nimport { BrowserRouter } from 'react-router-dom';\n\nimport Loader from 'components/Loader';\nimport { useWeb3ContextInitialized } from 'contexts/web3/web3.hooks';\nimport ViewBase from 'layout/ViewBase';\n\nconst App = lazy(() => import('./App'));\n\nfunction Root(): JSX.Element {\n    const web3ContextReady = useWeb3ContextInitialized();\n\n    if (!web3ContextReady) return <Loader />;\n\n    return (\n        <Suspense fallback={<Loader />}>\n            <App />\n        </Suspense>\n    );\n}\n\n// DOC : Using BrowserRouter before viewbase because of the <Link> components in Menu\nexport const RenderWithViewBase = () => (\n    <BrowserRouter>\n        <ViewBase>\n            <Root />\n        </ViewBase>\n    </BrowserRouter>\n);\nexport default RenderWithViewBase;\n","import { createSlice } from '@reduxjs/toolkit';\nimport { BigNumber } from 'ethers';\n\nimport { loadBalancesAndAllowances } from './account.thunks';\nimport { AccountSlice } from './account.types';\n\nconst initialState: AccountSlice = {\n    balances: {\n        BASH: BigNumber.from(0),\n        SBASH: BigNumber.from(0),\n        WSBASH: BigNumber.from(0),\n    },\n    stakingAllowance: {\n        BASH: BigNumber.from(0),\n        SBASH: BigNumber.from(0),\n        WSBASH: BigNumber.from(0),\n    },\n    loading: true,\n};\n\nexport const marketSlice = createSlice({\n    name: 'app-account-slice',\n    initialState,\n    reducers: {},\n    extraReducers: builder => {\n        builder.addCase(loadBalancesAndAllowances.fulfilled, (state, action) => {\n            return {\n                ...state,\n                ...action.payload,\n                loading: false,\n            };\n        });\n        builder.addCase(loadBalancesAndAllowances.rejected, state => {\n            return {\n                ...state,\n                loading: false,\n            };\n        });\n    },\n});\n\nexport default marketSlice.reducer;\n","import { AnyAction, Action } from '@reduxjs/toolkit';\n\ninterface RejectedAction extends Action {\n    error: Error;\n}\n\nexport const isActionRejected = (action: AnyAction): action is RejectedAction => {\n    return action.type.toString().endsWith('rejected');\n};\n","import { createSlice } from '@reduxjs/toolkit';\n\nimport { isActionRejected } from 'store/utils/action';\n\nimport { initializeProviderContracts, getBlockchainData, getCoreMetrics, getStakingMetrics } from './app.thunks';\nimport { ContractEnum, MainSliceState } from './app.types';\n\n// Define the initial state using that type\nconst initialState: MainSliceState = {\n    contracts: {\n        [ContractEnum.BASH_CONTRACT]: null,\n        [ContractEnum.SBASH_CONTRACT]: null,\n        [ContractEnum.DAI_CONTRACT]: null,\n        [ContractEnum.BASH_DAI_LP_CONTRACT]: null,\n        [ContractEnum.STAKING_CONTRACT]: null,\n        [ContractEnum.STAKING_HELPER_CONTRACT]: null,\n        [ContractEnum.WSBASH_CONTRACT]: null,\n        [ContractEnum.ZAPING_CONTRACT]: null,\n\n        [ContractEnum.REDEEM_CONTRACT]: null,\n    },\n    contractsLoaded: false,\n\n    metrics: {\n        circSupply: null,\n        rawCircSupply: null,\n        totalSupply: null,\n        reserves: null,\n        loading: true,\n    },\n    staking: {\n        epoch: null,\n        secondsToNextEpoch: null,\n        index: null,\n        loading: true,\n    },\n    blockchain: {\n        timestamp: null,\n        currentBlock: null,\n        loading: true,\n    },\n    errorEncountered: false,\n    loading: true,\n};\n\nexport const MainSlice = createSlice({\n    name: 'app-main',\n    initialState,\n    reducers: {},\n    extraReducers: builder => {\n        builder\n            .addCase(initializeProviderContracts.pending, state => {\n                return { ...state, contractsLoaded: false };\n            })\n            .addCase(initializeProviderContracts.fulfilled, (state, action) => {\n                return { ...state, contracts: action.payload, contractsLoaded: true };\n            })\n            .addCase(getBlockchainData.fulfilled, (state, action) => {\n                return {\n                    ...state,\n                    blockchain: {\n                        ...action.payload,\n                        loading: false,\n                    },\n                };\n            })\n            .addCase(getCoreMetrics.fulfilled, (state, action) => {\n                return {\n                    ...state,\n                    metrics: {\n                        ...action.payload,\n                        loading: false,\n                    },\n                };\n            })\n            .addCase(getStakingMetrics.fulfilled, (state, action) => {\n                return {\n                    ...state,\n                    staking: {\n                        ...action.payload,\n                        loading: false,\n                    },\n                };\n            })\n            .addMatcher(isActionRejected, (state, action) => {\n                if (action.type.startsWith('app/')) state.errorEncountered = true;\n            });\n    },\n});\n\nexport default MainSlice.reducer;\n","import { createSlice } from '@reduxjs/toolkit';\n\nimport {\n    approveBonds,\n    calcBondDetails,\n    calculateUserBondDetails,\n    getBondTerms,\n    initializeBonds,\n    loadBondBalancesAndAllowances,\n    getTreasuryBalance,\n    getBondMetrics,\n} from './bonds.thunks';\nimport { BondSlice } from './bonds.types';\n\n// Define the initial state using that type\nconst initialState: BondSlice = {\n    bonds: {},\n    bondInstances: {},\n    bondMetrics: {},\n    coreMetrics: {\n        // common metrics for all bonds\n        rfv: 0,\n        rfvTreasury: 0,\n        runway: 0,\n        deltaMarketPriceRfv: 0,\n    },\n    bondCalculator: null,\n    treasuryBalance: null,\n    loading: true,\n    bondQuoting: false,\n    bondQuote: {\n        interestDue: null,\n        bondMaturationBlock: null,\n        pendingPayout: null,\n    },\n};\n\nexport const BondSlices = createSlice({\n    name: 'app-bonds',\n    initialState,\n    reducers: {},\n    extraReducers: builder => {\n        builder.addCase(initializeBonds.fulfilled, (state, { payload: { bondCalculator, bondMetrics, bondInstances } }) => {\n            return {\n                ...state,\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                bondCalculator: bondCalculator as any,\n                bondInstances,\n                bondMetrics,\n            };\n        });\n\n        builder.addCase(getTreasuryBalance.fulfilled, (state, action) => {\n            for (const [bondID, treasury] of Object.entries(action.payload)) {\n                state.bondMetrics[bondID].treasuryBalance = treasury as number;\n            }\n        });\n\n        builder.addCase(\n            calcBondDetails.pending,\n            (\n                state,\n                {\n                    meta: {\n                        arg: { bondID },\n                    },\n                },\n            ) => {\n                state.bondMetrics[bondID].loading = true;\n            },\n        );\n\n        builder.addCase(calcBondDetails.fulfilled, (state, { payload: { bondID, ...metrics } }) => {\n            return {\n                ...state,\n                bondMetrics: {\n                    ...state.bondMetrics,\n                    [bondID]: {\n                        ...state.bondMetrics[bondID],\n                        ...metrics,\n                        loading: false,\n                    },\n                },\n            };\n        });\n\n        builder.addCase(getBondTerms.fulfilled, (state, { payload, meta: { arg: bondID } }) => {\n            state.bondMetrics[bondID].terms = payload.terms;\n        });\n\n        builder.addCase(approveBonds.fulfilled, (state, { payload, meta }) => {\n            state.bondMetrics[meta.arg.bondID].allowance = payload?.allowance ?? null;\n        });\n\n        builder.addCase(\n            loadBondBalancesAndAllowances.fulfilled,\n            (\n                state,\n                {\n                    payload,\n                    meta: {\n                        arg: { bondID },\n                    },\n                },\n            ) => {\n                state.bondMetrics[bondID].allowance = payload.allowance;\n                state.bondMetrics[bondID].balance = payload.balance;\n            },\n        );\n\n        builder.addCase(calculateUserBondDetails.pending, (state, {}) => {\n            state.bondQuote = {\n                interestDue: null,\n                bondMaturationBlock: null,\n                pendingPayout: null,\n            };\n            state.bondQuoting = true;\n        });\n        builder.addCase(calculateUserBondDetails.fulfilled, (state, { payload }) => {\n            state.bondQuote = payload;\n            state.bondQuoting = false;\n        });\n\n        builder.addCase(getBondMetrics.fulfilled, (state, { payload }) => {\n            state.coreMetrics.rfv = payload.rfv;\n            state.coreMetrics.rfvTreasury = payload.rfvTreasury;\n            state.coreMetrics.runway = payload.runway;\n            state.coreMetrics.deltaMarketPriceRfv = payload.deltaMarketPriceRfv;\n        });\n    },\n});\n\nexport default BondSlices.reducer;\n","import { createSlice } from '@reduxjs/toolkit';\n\nimport { ActiveTokensEnum } from 'config/tokens';\n\nimport { getMarketPrices } from './markets.thunks';\nimport { MarketSlice } from './markets.type';\n\nconst initialState: MarketSlice = {\n    markets: {\n        [ActiveTokensEnum.DAI]: null,\n    },\n    loading: true,\n};\n\nexport const marketSlice = createSlice({\n    name: 'market-slice',\n    initialState,\n    reducers: {},\n    extraReducers: builder => {\n        builder\n            .addCase(getMarketPrices.fulfilled, (state, action) => {\n                return {\n                    markets: action.payload,\n                    loading: false,\n                };\n            })\n            .addCase(getMarketPrices.rejected, () => {\n                console.error('API not available');\n            });\n    },\n});\n\nexport default marketSlice.reducer;\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport newAccountReducer from './modules/account/account.slice';\nimport mainReducer from './modules/app/app.slice';\nimport boundReducer from './modules/bonds/bonds.slice';\nimport marketReducer from './modules/markets/markets.slice';\nimport messagesReducer from './modules/messages/messages.slice';\nimport transactionsReducer from './modules/transactions/transactions.slice';\n\nconst store = configureStore({\n    reducer: {\n        bonds: boundReducer,\n        messages: messagesReducer,\n        main: mainReducer,\n        markets: marketReducer,\n        account: newAccountReducer,\n        transactions: transactionsReducer,\n    },\n    middleware: getDefaultMiddleware => getDefaultMiddleware({ serializableCheck: false }),\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\nexport default store;\n","import './i18n';\n\nimport { CssBaseline } from '@mui/material';\nimport { ThemeProvider } from '@mui/material/styles';\nimport { SnackbarProvider } from 'notistack';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport { BSnackBar } from 'components/Messages/snackbar';\nimport { theme } from 'constants/theme';\nimport { Web3ContextProvider } from 'contexts/web3/web3.context';\nimport { ErrorBoundary } from 'Root/Error';\n\nimport Root from './Root';\nimport store from './store/store';\n\nReactDOM.render(\n    <>\n        <CssBaseline />\n        <ThemeProvider theme={theme}>\n            <Web3ContextProvider>\n                <Provider store={store}>\n                    <SnackbarProvider\n                        maxSnack={3}\n                        anchorOrigin={{\n                            vertical: 'bottom',\n                            horizontal: 'left',\n                        }}\n                        autoHideDuration={5000}\n                        content={() => {\n                            return <BSnackBar severity=\"info\" description=\"test\" />;\n                        }}\n                    >\n                        <ErrorBoundary>\n                            <Root />\n                        </ErrorBoundary>\n                    </SnackbarProvider>\n                </Provider>\n            </Web3ContextProvider>\n        </ThemeProvider>\n    </>,\n    document.getElementById('root'),\n);\n","import Decimal from 'decimal.js';\nimport fromExponential from 'from-exponential';\n\nexport const formatUSD = (value: number, digits = 0): string => {\n    return new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'USD',\n        maximumFractionDigits: digits,\n        minimumFractionDigits: digits,\n    }).format(value);\n};\n\nexport const formatUSDFromDecimal = (value: Decimal, digits = 0): string => {\n    return new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'USD',\n        maximumFractionDigits: digits,\n        minimumFractionDigits: digits,\n    }).format(value.toNumber());\n};\n\nexport const formatNumber = (number = 0, precision?: number) => {\n    const [exp, decimals] = fromExponential(number).split('.');\n\n    if (!decimals || !precision) return exp;\n\n    return [exp, decimals.substring(0, precision)].join('.');\n};\n\nexport const formatAPY = (formatted: string): string => {\n    return formatted.length > 16 ? '> 1 000 000 %' : `${formatted} %`;\n};\n","export const TransactionTypeEnum = {\n    APPROVE_CONTRACT: 'APPROVE_CONTRACT',\n    STAKE_PENDING: 'STAKE_PENDING',\n    UNSTAKE_PENDING: 'UNSTAKE_PENDING',\n    BASH_APPROVAL: 'BASH_APPROVAL',\n    SBASH_APPROVAL: 'SBASH_APPROVAL',\n    BONDING: 'BONDING',\n    REDEEMING: 'REDEEMING',\n    REDEEMING_STAKING: 'REDEEMING_STAKING',\n    WRAPPING: 'WRAPPING',\n    UNWRAPPING: 'UNWRAPPING',\n    WRAPPING_APPROVAL: 'WRAPPING_APPROVAL',\n} as const;\n\nexport type TransactionType = typeof TransactionTypeEnum[keyof typeof TransactionTypeEnum];\n\nexport interface Transaction {\n    hash: string;\n    type: TransactionType;\n    status: 'PENDING' | 'DONE';\n}\n","import { providers } from 'ethers';\nimport Web3Modal from 'web3modal';\n\nexport interface WEB3State {\n    networkID: number | null;\n    provider: providers.JsonRpcProvider | null;\n    signer: providers.Web3Provider | null;\n    signerAddress: string | null;\n    web3Modal: Web3Modal;\n}\n\nexport interface IWeb3Context {\n    state: WEB3State;\n    memoConnect: () => void;\n    memoDisconnect: (currentSigner: WEB3State['signer']) => Promise<void>;\n}\n\nexport enum WEB3ActionTypesEnum {\n    CLOSE = 'CLOSE',\n    NETWORK_CHANGED = 'NETWORK_CHANGED',\n    SET_SIGNER = 'SET_SIGNER',\n    CLEAR_SIGNER = 'CLEAR_SIGNER',\n    SET_PROVIDER = 'SET_PROVIDER',\n}\n\nexport interface WEB3ContextAction {\n    type: WEB3ActionTypesEnum;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    payload?: any; // TODO : better typing\n}\n","import { isEmpty, isUndefined } from 'lodash';\n\nimport { Networks } from 'constants/blockchain';\n\nexport const getProviderURL = (networkId: number): string => {\n    if (![Networks.MAINNET, Networks.RINKEBY, Networks.LOCAL].includes(networkId)) throw new Error(`Unable to get mainNetURI with network \"${networkId}\"`);\n\n    const url = process.env.REACT_APP_INFURA_ENDPOINT_URL;\n\n    if (isUndefined(url) || isEmpty(url)) {\n        throw new Error('No provider endpoint url');\n    }\n\n    return url;\n};\n","import WalletConnectProvider from '@walletconnect/web3-provider';\nimport { isEmpty, isUndefined } from 'lodash';\nimport Web3Modal from 'web3modal';\n\nimport { Networks } from 'constants/blockchain';\nimport { theme } from 'constants/theme';\nimport { getProviderURL } from 'lib/contracts/networks';\n\nexport const initWeb3Modal = () =>\n    new Web3Modal({\n        network: '0x1',\n        cacheProvider: true,\n        theme: {\n            background: theme.palette.cardBackground.main,\n            main: theme.palette.primary.light,\n            secondary: theme.palette.primary.light,\n            hover: theme.palette.grey[800],\n            border: 'none',\n        },\n\n        providerOptions: {\n            walletconnect: {\n                package: WalletConnectProvider,\n                options: {\n                    rpc: {\n                        [Networks.LOCAL]: getProviderURL(Networks.LOCAL),\n                        [Networks.RINKEBY]: getProviderURL(Networks.RINKEBY),\n                        [Networks.MAINNET]: getProviderURL(Networks.MAINNET),\n                    },\n                },\n            },\n        },\n    });\n\nexport const getProviderURI = (networkId: number): string => {\n    if (![Networks.MAINNET, Networks.RINKEBY, Networks.LOCAL].includes(networkId)) throw new Error(`Unable to get mainNetURI with network \"${networkId}\"`);\n\n    const rpcUrl: string | undefined = process.env.REACT_APP_NETWORK_RPC_URL;\n\n    if (rpcUrl === undefined || isUndefined(rpcUrl) || isEmpty(rpcUrl)) throw new Error('Network RPC URL not defined');\n\n    return rpcUrl;\n};\n","import { Dispatch } from 'react';\n\nimport { providers } from 'ethers';\nimport Core from 'web3modal';\n\nimport { DEFAULT_NETWORK } from 'constants/blockchain';\nimport { getProviderURI } from 'contexts/web3/web3.utils';\n\nimport { WEB3ContextAction, WEB3ActionTypesEnum } from './web3.types';\n\nexport const subscribeSigner = async (web3provider: providers.Web3Provider, dispatch: Dispatch<WEB3ContextAction>) => {\n    web3provider.on('networkChanged', async (networkId: number) => {\n        const signer = new providers.Web3Provider(web3provider as unknown as providers.ExternalProvider);\n        dispatch({ type: WEB3ActionTypesEnum.NETWORK_CHANGED, payload: { signer, networkId } });\n        window.location.reload();\n    });\n    web3provider.once('close', () => {\n        dispatch({ type: WEB3ActionTypesEnum.CLOSE, payload: { signer: web3provider.getSigner() } });\n    });\n};\n\nexport const createSigner = async (web3Modal: Core, dispatch: Dispatch<WEB3ContextAction>) => {\n    const web3Provider = await web3Modal.connect();\n    const signer = new providers.Web3Provider(web3Provider);\n\n    subscribeSigner(web3Provider, dispatch);\n\n    try {\n        const [{ chainId }, address] = await Promise.all([signer.getNetwork(), signer.getSigner().getAddress()]);\n\n        dispatch({ type: WEB3ActionTypesEnum.SET_SIGNER, payload: { signer, chainId, address } });\n    } catch (err) {\n        console.error(err);\n    } finally {\n    }\n};\n\nexport const subscribeProvider = async (dispatch: Dispatch<WEB3ContextAction>) => {\n    const provider = new providers.JsonRpcProvider(getProviderURI(DEFAULT_NETWORK));\n    provider.on('error', err => {\n        alert('provider error');\n        console.error(err);\n    });\n\n    const { chainId } = await provider.ready;\n\n    if (!chainId) throw new Error('Impossible to connect to the given provider');\n\n    dispatch({ type: WEB3ActionTypesEnum.SET_PROVIDER, payload: { chainId, provider } });\n};\n\nexport const resetWeb3Signer = (dispatch: Dispatch<WEB3ContextAction>, web3Modal: Core): void => {\n    web3Modal.clearCachedProvider();\n    localStorage.setItem('WEB3_CONNECT_CACHED_PROVIDER', '');\n    dispatch({ type: WEB3ActionTypesEnum.CLOSE, payload: null });\n};\n","import { createContext, useCallback, useContext, useLayoutEffect, useReducer } from 'react';\n\nimport { initWeb3Modal } from 'contexts/web3/web3.utils';\n\nimport { USER_REJECTED } from './constants';\nimport { subscribeProvider, createSigner, resetWeb3Signer } from './subscribers';\nimport { WEB3ActionTypesEnum, IWeb3Context, WEB3ContextAction, WEB3State } from './web3.types';\n\nexport const initialState: WEB3State = {\n    provider: null,\n    signer: null,\n    signerAddress: null,\n    networkID: null,\n    web3Modal: initWeb3Modal(),\n};\n\nexport const Web3Context = createContext<IWeb3Context>({\n    state: initialState,\n    memoConnect: Promise.reject,\n    memoDisconnect: Promise.reject,\n});\n\nexport const WEB3Reducer = (state: WEB3State, action: WEB3ContextAction) => {\n    switch (action.type) {\n        case WEB3ActionTypesEnum.CLOSE:\n            return { ...state, signer: null, web3Modal: initWeb3Modal() };\n        case WEB3ActionTypesEnum.NETWORK_CHANGED:\n            return { ...state, networkID: Number(action.payload.networkId) };\n        case WEB3ActionTypesEnum.SET_SIGNER:\n            return { ...state, signer: action.payload.signer, signerAddress: action.payload.address, networkID: action.payload.chainId };\n        case WEB3ActionTypesEnum.SET_PROVIDER:\n            return { ...state, networkID: action.payload.chainId, provider: action.payload.provider };\n        default:\n            return state;\n    }\n};\n\nexport const useWeb3Context = () => {\n    return useContext(Web3Context);\n};\n\nexport const Web3ContextProvider = ({ children }: { children: JSX.Element }) => {\n    const {\n        state: { web3Modal, signer, provider },\n    } = useWeb3Context();\n    const [state, dispatch] = useReducer(WEB3Reducer, initialState);\n\n    const memoConnect = useCallback(async () => {\n        if (web3Modal && !signer) {\n            await createSigner(web3Modal, dispatch);\n        }\n    }, [signer, web3Modal]);\n\n    const memoDisconnect = useCallback(\n        async (currentSigner: WEB3State['signer']) => {\n            if (currentSigner && web3Modal) await resetWeb3Signer(dispatch, web3Modal);\n            window.location.reload();\n        },\n        [web3Modal],\n    );\n\n    useLayoutEffect(() => {\n        // happens when user reload when metamask popup appears\n        if (web3Modal) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            web3Modal.on('error', (err: any) => {\n                if (err && err?.message && err?.message === USER_REJECTED) {\n                    console.info('User rejected connection');\n                    subscribeProvider(dispatch); // init at the provider\n                }\n            });\n        }\n\n        // forces the connection\n        if (web3Modal && web3Modal.cachedProvider?.length > 0) {\n            memoConnect();\n        } else {\n            if (!provider) {\n                subscribeProvider(dispatch); // init at the provider\n            }\n        }\n    }, [web3Modal]);\n\n    return (\n        <Web3Context.Provider\n            value={{\n                state,\n                memoConnect,\n                memoDisconnect,\n            }}\n        >\n            {children}\n        </Web3Context.Provider>\n    );\n};\n","export const USER_REJECTED = 'User Rejected';\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { MessagesState, Message, NotificationMessage } from './messages.types';\n\nconst initialState: MessagesState = {\n    notifications: [],\n};\n\nexport const createNotification = ({ payload }: PayloadAction<Message>): NotificationMessage => {\n    if (!['success', 'error', 'info', 'warning'].some(x => x === payload.severity)) {\n        throw new Error('Not handled');\n    }\n\n    return { ...payload, display: true, id: Math.random().toString(36).substring(2, 15) };\n};\n\nconst messagesSlice = createSlice({\n    name: 'messages',\n    initialState,\n    reducers: {\n        addNotification(state, action: PayloadAction<Message>) {\n            const notification = createNotification(action);\n            state.notifications.push(notification);\n        },\n        closeNotification(state, action) {\n            const notificationIdx = state.notifications.find(e => e.id === action.payload.id);\n\n            if (notificationIdx) notificationIdx.display = false;\n        },\n    },\n});\n\nexport const { addNotification, closeNotification } = messagesSlice.actions;\n\nexport default messagesSlice.reducer;\n","import i18n from '../i18n';\n\nexport const messages = {\n    please_connect: i18n.t('messages.PleaseConnect'),\n    please_connect_wallet: i18n.t('messages.PleaseConnectWallet'),\n    try_mint_more: (value: string) => i18n.t('messages.TryMintMore', { value: value }),\n    before_minting: i18n.t('messages.BeforeMinting'),\n    existing_mint: i18n.t('messages.ExistingMint'),\n    before_stake: i18n.t('messages.BeforeStake'),\n    before_unstake: i18n.t('messages.BeforeUnstake'),\n    before_wrap: i18n.t('messages.BeforeWrap'),\n    before_unwrap: i18n.t('messages.BeforeUnwrap'),\n    tx_successfully_send: i18n.t('messages.TxSuccessfullySend'),\n    your_balance_updated: i18n.t('messages.YourBalanceUpdated'),\n    nothing_to_claim: i18n.t('messages.NothingToClaim'),\n    something_wrong: i18n.t('messages.SomethingWrong'),\n    switch_to_avalanche: i18n.t('messages.SwitchToAvalanche'),\n    slippage_too_small: i18n.t('messages.SlippageTooSmall'),\n    slippage_too_big: i18n.t('messages.SlippageTooBig'),\n    your_balance_update_soon: i18n.t('messages.YourBalanceUpdateSoon'),\n};\n","import { useEffect, useMemo, useState } from 'react';\n\nimport { isNull } from 'lodash';\nimport { Dispatch } from 'redux';\n\nimport { DEFAULT_NETWORK } from 'constants/blockchain';\nimport { messages } from 'constants/messages';\nimport { useWeb3Context } from 'contexts/web3/web3.context';\nimport { addNotification } from 'store/modules/messages/messages.slice';\n\nexport const useGoodNetworkCheck = () => {\n    const {\n        state: { networkID },\n    } = useWeb3Context();\n\n    const [isNetworkOk, setIsNetworkOk] = useState(false);\n\n    useEffect(() => {\n        if (networkID) setIsNetworkOk(networkID === DEFAULT_NETWORK);\n    }, [networkID]);\n\n    return isNetworkOk;\n};\n\nexport const useSignerConnected = () => {\n    const {\n        state: { signer, networkID },\n    } = useWeb3Context();\n\n    const [isConnected, setIsConnected] = useState(signer !== null);\n\n    useEffect(() => {\n        if (signer && networkID) {\n            setIsConnected(true);\n        }\n    }, [isConnected, signer, networkID]);\n\n    return isConnected;\n};\n\nexport const useWeb3ContextInitialized = () => {\n    const {\n        state: { signer, networkID, provider },\n    } = useWeb3Context();\n\n    const [isContextInitialized, setIsContextInitialized] = useState(!isNull(provider) || (!isNull(signer) && !isNull(networkID)));\n\n    useEffect(() => {\n        if (provider || signer) {\n            setIsContextInitialized(true);\n        }\n    }, [provider, signer]);\n\n    return isContextInitialized;\n};\n\nexport const useSignerAddress = () => {\n    const {\n        state: { signerAddress },\n    } = useWeb3Context();\n\n    const [signer, setSigner] = useState(signerAddress);\n\n    useEffect(() => {\n        if (signerAddress) {\n            setSigner(signerAddress);\n        }\n    }, [signerAddress]);\n\n    return signer;\n};\n\nexport const useProvider = () => {\n    const {\n        state: { provider },\n    } = useWeb3Context();\n\n    return provider;\n};\n\nexport const useSafeSigner = (dispatch?: Dispatch) => {\n    const {\n        state: { signer, signerAddress },\n    } = useWeb3Context();\n\n    const memoSigner = useMemo(() => {\n        if (!signer || !signerAddress) {\n            if (dispatch) dispatch(addNotification({ severity: 'warning', description: messages.please_connect_wallet }));\n\n            throw new Error('Missing signer or signerAddress ');\n        }\n\n        return { signer, signerAddress };\n    }, [signer, signerAddress]);\n\n    return memoSigner;\n};\n"],"sourceRoot":""}